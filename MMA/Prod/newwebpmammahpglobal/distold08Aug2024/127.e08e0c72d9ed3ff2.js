"use strict";(self.webpackChunknewwebpmammahp=self.webpackChunknewwebpmammahp||[]).push([[127],{2127:(f,u,a)=>{a.r(u),a.d(u,{ClaimsModule:()=>V});var s=a(9808),d=a(6696),m=a(8746),c=a(7432),e=a(4893),v=a(7420),r=a(3525),p=a(2515),h=a(1413);function _(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),e.\u0275\u0275text(5," Share this QR code "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," with a coworker! "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275element(9,"img",8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",9)(11,"div",10)(12,"div",11),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",10)(15,"div",12),e.\u0275\u0275text(16," They can earn $30 too! "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",10)(18,"div",13)(19,"span",14),e.\u0275\u0275text(20," MillionMakers\u2122"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"span",15),e.\u0275\u0275text(22," by Bluenumber\xae"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(23,"div",16)(24,"div",17)(25,"button",18),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onOkClick()}),e.\u0275\u0275text(26," Okay "),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(9),e.\u0275\u0275property("src",t.qrCodeUrl,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.qrCode," ")}}let y=(()=>{class n{constructor(t,i,l){this.router=t,this.sharedService=i,this.claimsService=l,this.closeQRCode=new e.EventEmitter}ngOnInit(){"claimInfoScreen"!=this.reqFrom&&this.checkQRCodeDetails()}checkQRCodeDetails(){let t={SurveySetQRCode:localStorage.getItem("ssid"),GeneratorBluenumber:!0};this.sharedService.startLoader(),this.claimsService.getSharedCodeDetails(t).pipe((0,m.x)(()=>this.sharedService.stopLoader())).subscribe(i=>{console.log(i),i.result&&(this.qrCodeUrl=i.result.qrImageUrl,this.qrCode=i.result.qrCode)},i=>{this.router.navigateByUrl("home/info")})}onOkClick(){"claimInfoScreen"==this.reqFrom?this.closeQRCode.emit({close:!0}):this.router.navigateByUrl("home/info")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(d.F0),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(p.U))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-qrcode-info"]],inputs:{qrCodeUrl:"qrCodeUrl",qrCode:"qrCode",reqFrom:"reqFrom"},outputs:{closeQRCode:"closeQRCode"},decls:3,vars:1,consts:[[1,"pma"],[1,"container"],[4,"ngIf"],[1,"pay-screen","mt-5","pt-5"],[1,"row","text-center"],[1,"col-md-12"],[1,"share-txt"],[1,"text-center"],["alt","","width","200px","height","200px",1,"img-fluid","p-success",3,"src"],[1,"row"],[1,"col-md-12","text-center","mt-4"],[1,"earn-txt"],[1,"scan-txt"],[1,"welcomet-text"],[1,"head-txt"],[1,"text-primary"],[1,"row","text-center","ms-0","p-4","bottom-position"],[1,"col-md-12","text-center"],[1,"btn","btn-mm-p",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,_,27,2,"div",2),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.qrCodeUrl))},directives:[s.O5],styles:[".pma[_ngcontent-%COMP%]{padding:10px!important}.pma[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px!important;line-height:24px;font-weight:500;color:#000}.pay-screen[_ngcontent-%COMP%]{z-index:999999999999;background-color:#fff}.bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0}.btn-mm-p-disabled[_ngcontent-%COMP%]{background-color:#c4c4c4;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:9px 104px!important;line-height:19px}.btn-mm-p-disabled[_ngcontent-%COMP%]:hover{opacity:.9}.btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important;width:100%}.btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.share-txt[_ngcontent-%COMP%]{color:#ad0c62;font-weight:600;font-size:18px;line-height:22px;text-align:center}.scan-txt[_ngcontent-%COMP%]{color:#28a66c!important;font-weight:600;text-align:center;font-size:20px;line-height:28px}.earn-txt[_ngcontent-%COMP%]{color:#ad0c62;font-weight:600;font-size:18px;line-height:22px;text-align:center}.myr-icon[_ngcontent-%COMP%]{background-color:#5c8c05!important;border-radius:67px!important;width:110px;height:110px;margin-left:103px}.myr-icon[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#8a8a8a}.myr-icon[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8a8a8a;font-weight:500;font-size:20px;line-height:24px;text-align:center}.myr-icon-green[_ngcontent-%COMP%]{background-color:#0cad26!important;border-radius:67px!important;width:110px;height:110px;box-shadow:4px 4px 4px #0000001a;margin:0 auto}.myr-icon-green[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#f3f2f2}.myr-icon-green[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#f3f2f2;font-weight:500;font-size:20px;line-height:24px;text-align:center}.welcomet-text[_ngcontent-%COMP%]{color:#8a8a8a;font-size:20px}.head-txt[_ngcontent-%COMP%]{color:#ad0c62;font-weight:600}"]}),n})();function C(n,o){1&n&&e.\u0275\u0275element(0,"img",17)}function x(n,o){1&n&&e.\u0275\u0275element(0,"img",18)}function S(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,C,1,0,"img",15),e.\u0275\u0275template(2,x,1,0,"img",16),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered&&!t.isEachSurveyAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered||t.isEachSurveyAnswered)}}function I(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",19),e.\u0275\u0275elementStart(2,"h2",20),e.\u0275\u0275text(3," Success!"),e.\u0275\u0275elementEnd()())}function b(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.paymentMsg)}}function D(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," completed! Click PAY ME to "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7),e.\u0275\u0275element(8,"br"),e.\u0275\u0275text(9," more. "),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Congratulations! Day ",t.currentSurveyDay," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" get ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered," (up to 3 business days). "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" Do a survey tomorrow for ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered," ")}}function P(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275template(2,b,2,1,"h3",6),e.\u0275\u0275template(3,D,10,5,"h3",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",""!=t.paymentMsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""==t.paymentMsg)}}function O(n,o){1&n&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1,"You can only claim "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," payment upon completion "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," of the last survey! "),e.\u0275\u0275elementEnd())}function w(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.surveyDetails?null:t.surveyDetails.paymentMessage," ")}}function M(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"h3"),e.\u0275\u0275text(1,"Congratulations! You have "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," finished all Surveys! "),e.\u0275\u0275text(4," Click on "),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6," the Pay Me button and Receive "),e.\u0275\u0275element(7,"br"),e.\u0275\u0275elementStart(8,"span",23),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10," within 3 business days. "),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate2("",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,"")}}function E(n,o){1&n&&(e.\u0275\u0275elementStart(0,"h3",24),e.\u0275\u0275text(1,"Congratulations! You have "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," completed your "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," registration! You will receive your payment "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," within 3 business days. "),e.\u0275\u0275elementEnd())}function R(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275template(1,O,6,0,"h3",6),e.\u0275\u0275template(2,w,2,1,"h3",6),e.\u0275\u0275template(3,M,11,2,"h3",6),e.\u0275\u0275template(4,E,8,0,"h3",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&"mmind"!=t.appId&&"ssid"==t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&"mmind"!=t.appId&&"ssid"!=t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&"mmind"==t.appId)}}function A(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",21)(1,"h3"),e.\u0275\u0275text(2," Thank you for answering this survey. "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," Click on pay me button and receive "),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"span",23),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(8," in 3 business days. "),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2(" ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered," ")}}function T(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"div",12),e.\u0275\u0275template(3,S,3,2,"div",6),e.\u0275\u0275template(4,I,4,0,"div",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,P,4,2,"ng-container",6),e.\u0275\u0275template(7,R,5,4,"div",14),e.\u0275\u0275template(8,A,9,2,"div",14),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","feedback"!=t.surveyType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","feedback"==t.surveyType),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isEachSurveyAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","feedback"!=t.surveyType&&!t.isEachSurveyAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","feedback"==t.surveyType&&!t.isEachSurveyAnswered)}}function q(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p",29),e.\u0275\u0275text(1," Click on Pay Me button "),e.\u0275\u0275elementEnd())}function B(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"div",26),e.\u0275\u0275template(2,q,2,0,"p",27),e.\u0275\u0275elementStart(3,"button",28),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onPayMeOrOkBtnClick()}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(t.isAllSurveysAnswered||t.isEachSurveyAnswered)&&"feedback"!=t.surveyType),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.isAllSurveysAnswered||t.isEachSurveyAnswered?"Pay Me":"Okay"," ")}}function k(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"p",37),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.surveyDetails?null:t.surveyDetails.claimMessage," ")}}function Q(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"p",37),e.\u0275\u0275text(1,"You have claimed "),e.\u0275\u0275elementStart(2,"span",23),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2(" ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,"")}}function N(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"p",38),e.\u0275\u0275text(1," Payment will be made to "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",23),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6," as a virtual/mobile gift card "),e.\u0275\u0275element(7,"br"),e.\u0275\u0275text(8," (redeemable stored value code). "),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.personMobileNumber," ")}}function L(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30)(1,"div",12)(2,"div",31)(3,"div",32)(4,"div",24)(5,"h5",33),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h1"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(9,k,2,1,"p",34),e.\u0275\u0275template(10,Q,4,2,"p",34),e.\u0275\u0275template(11,N,9,1,"p",35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",36)(13,"div",26)(14,"button",28),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).goBack()}),e.\u0275\u0275text(15," Okay "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",null==t.surveyDetails?null:t.surveyDetails.currency," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.paymentOffered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"==t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=t.isSidOrSSId)}}function $(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,T,9,5,"div",7),e.\u0275\u0275template(2,B,5,2,"div",8),e.\u0275\u0275template(3,L,16,5,"div",9),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isPaymentClaimed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isPaymentClaimed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isPaymentClaimed)}}function U(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"h1",4)(3,"i",5),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goBack()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4,"\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,$,4,3,"div",6),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.isScreenLoaded)}}function z(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-qrcode-info",39),e.\u0275\u0275listener("closeQRCode",function(l){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeQRCode(l)}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("reqFrom","claimInfoScreen")("qrCodeUrl",t.qrCodeUrl)("qrCode",t.qrCode)}}const F=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-claims-layout"]],decls:1,vars:0,template:function(t,i){1&t&&e.\u0275\u0275element(0,"router-outlet")},directives:[d.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class n{constructor(t,i,l,g,Z){this.router=t,this.sharedService=i,this.surveyService=l,this.claimsService=g,this.dashboardService=Z,this.surveyDetails={},this.isAllSurveysAnswered=!1,this.isSidOrSSId="",this.allSurveyIds=[],this.isPaymentClaimed=!1,this.appId="",this.isScreenLoaded=!1,this.showQRCodeInfo=!1,this.isEachSurveyAnswered=!1,this.paymentMsg=""}ngOnInit(){let t=localStorage.getItem("sid"),i=localStorage.getItem("ssid");this.surveyType=localStorage.getItem("surveyType"),this.currentSurveyDay=localStorage.getItem("currentSurveyDay"),""!=t&&"null"!=t&&null!=t&&(this.isSidOrSSId="sid"),""!=i&&"null"!=i&&null!=i&&(this.isSidOrSSId="ssid"),this.personMobileNumber=localStorage.getItem("personMobileNumber"),this.appId=localStorage.getItem("app"),this.sharedqrcode=localStorage.getItem("sharedqrcode"),this.claimType=localStorage.getItem("claim"),this.fetchProfileDetails(),"sid"==this.isSidOrSSId?this.getSurveyListDetails():"ssid"==this.isSidOrSSId&&this.getSurveySetDetails()}fetchProfileDetails(){this.dashboardService.getProfileDetails(localStorage.getItem("personBluenumber")).subscribe(t=>{this.sharedService.stopLoader(),t.isError||(this.profileInfo=t.result)})}getSurveySetDetails(){this.sharedService.startLoader(),"null"==localStorage.getItem("ssid")&&(this.sharedService.successErrorMsg.message="Please scan QR code again.",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("home/messages")),this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).subscribe(t=>{if(this.sharedService.stopLoader(),this.isScreenLoaded=!0,!t.isError){this.surveyDetails=t.result,localStorage.setItem("surveySetId",this.surveyDetails.id),this.isPaymentClaimed=t.result.claim;let i=0;if(this.surveyDetails.surveyGroupItems.forEach(l=>{this.surveyDetails.currency=l.currency,this.surveyDetails.paymentOffered=l.paymentOffered,this.allSurveyIds.push(l.surveyId),l.isAnswered&&i++}),this.claimType==c.Z.eachSurvey&&this.surveyType==c.Z.shareQrCode){if(i>0){let l=this.surveyDetails.paymentMessage.split("^");return this.paymentMsg=l.length>1?l[Number(this.currentSurveyDay)-1]:"",void(this.isEachSurveyAnswered=!0)}this.router.navigateByUrl("home/info")}else this.isEachSurveyAnswered=!1;if(i==this.surveyDetails.surveyGroupItems.length&&0!=i)return void(this.isAllSurveysAnswered=!0);this.isAllSurveysAnswered=!1}},t=>{"Survey is not found for QR:null"!=t.error.responseException.exceptionMessage||this.goBack()})}getSurveyListDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyDetailsbyQRCode(localStorage.getItem("sid")).subscribe(t=>{t.isError||(this.surveyDetails=t.result,this.isPaymentClaimed=t.result.claim),this.sharedService.stopLoader(),this.isScreenLoaded=!0},t=>(this.fetchSurveyAmountDetails(),this.router.navigateByUrl("/claims"),"AlreadyAnswered"==t.error.responseException.exceptionMessage.substring(0,15)?void(this.isAllSurveysAnswered=!0):(t.error.responseException.exceptionMessage.includes("ReachedMaxParticipants"),void(this.isAllSurveysAnswered=!1))))}fetchSurveyAmountDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyDetailsResponseForAnsweredQRCode(localStorage.getItem("sid")).subscribe(t=>{this.sharedService.stopLoader(),this.isScreenLoaded=!0,t.isError||(this.surveyDetails=t.result,this.isPaymentClaimed=t.result.claim)})}onPayMeOrOkBtnClick(){if(this.isAllSurveysAnswered||this.isEachSurveyAnswered){let t={};if("sid"==this.isSidOrSSId)t={surveyId:this.surveyDetails.id,amount:Number(this.surveyDetails.paymentOffered),latitude:this.profileInfo.latitude,longitude:this.profileInfo.longitude},this.sharedService.startLoader(),this.claimsService.claimSurvey(t).subscribe(i=>{this.sharedService.stopLoader(),console.log(i),i.isError||(this.isPaymentClaimed=!0)});else if("ssid"==this.isSidOrSSId){if(this.sharedService.startLoader(),t={surveySetId:this.surveyDetails.id,dataRequestIds:this.allSurveyIds,amount:Number(this.surveyDetails.paymentOffered),latitude:this.profileInfo.latitude,longitude:this.profileInfo.longitude},this.surveyType==c.Z.shareQrCode&&this.claimType==c.Z.eachSurvey){let i=this.surveyDetails.surveyGroupItems[Number(this.currentSurveyDay)-1];t.surveyId=i.surveyId}this.claimsService.claimSurveySet(t).subscribe(i=>{this.sharedService.stopLoader(),console.log(i),i.isError||(this.surveyType==c.Z.shareQrCode||this.surveyType==c.Z.shareQrCode&&this.claimType==c.Z.eachSurvey&&1==this.currentSurveyDay?""!=this.sharedqrcode&&null!=this.sharedqrcode?this.checkSurveyCompletionData():this.surveyType==c.Z.shareQrCode&&this.claimType==c.Z.eachSurvey&&Number(this.currentSurveyDay)>1?this.isPaymentClaimed=!0:this.saveClaimQRCode():this.isPaymentClaimed=!0)})}}else this.goBack()}goBack(){this.router.navigateByUrl("home/info")}saveClaimQRCode(){let t={surveySetId:this.surveyDetails.id};this.sharedService.startLoader(),this.claimsService.checkForsharedCode(t).pipe((0,m.x)(()=>this.sharedService.stopLoader())).subscribe(i=>{console.log(i),i.result&&(this.showQRCodeInfo=!0,this.qrCodeUrl=i.result.qrImageUrl,this.qrCode=i.result.qrCode)})}checkSurveyCompletionData(){let t={QrCode:this.sharedqrcode};this.sharedService.startLoader(),this.claimsService.getSharedCodeDetails(t).pipe((0,m.x)(()=>this.sharedService.stopLoader())).subscribe(i=>{if(console.log(i),i.result){let l={};l=i.result.surveyCompletion?{SurveySetQRCode:localStorage.getItem("ssid"),IsCreate:!0}:{SurveySetQRCode:localStorage.getItem("ssid"),GeneratorSurveyClaim:!0,IsCreate:!0,Latitude:this.profileInfo.latitude,Longitude:this.profileInfo.longitude,QrCode:this.sharedqrcode},this.claimGeneratorSurvey(l)}})}claimGeneratorSurvey(t){this.sharedService.startLoader(),this.claimsService.getSharedCodeDetails(t).pipe((0,m.x)(()=>this.sharedService.stopLoader())).subscribe(i=>{i.result&&(this.showQRCodeInfo=!0,this.qrCodeUrl=i.result.qrImageUrl,this.qrCode=i.result.qrCode)})}closeQRCode(t){t.close&&(this.showQRCodeInfo=!1,this.isPaymentClaimed=!0)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(d.F0),e.\u0275\u0275directiveInject(v.F),e.\u0275\u0275directiveInject(r.F),e.\u0275\u0275directiveInject(p.U),e.\u0275\u0275directiveInject(h.s))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-claim-info"]],decls:2,vars:2,consts:[["class","pma",4,"ngIf"],[3,"reqFrom","qrCodeUrl","qrCode","closeQRCode",4,"ngIf"],[1,"pma"],[1,"container"],[1,"pma-heading","text-muted","mb-4"],[1,"fas","fa-chevron-left","mouse-pointer","pr-3",3,"click"],[4,"ngIf"],["class","pay-screen mt-5 pt-5",4,"ngIf"],["class","row text-center p-4 bottom-position",4,"ngIf"],["class","row cont-cent mt-5",4,"ngIf"],[1,"pay-screen","mt-5","pt-5"],[1,"row","text-center"],[1,"col-md-12"],[1,"row"],["class","col-md-12 text-center mt-4",4,"ngIf"],["src","../../../assets/media/pay-logo.svg","alt","","class","img-fluid",4,"ngIf"],["src","../../../assets/media/reward-cup.svg","alt","","class","img-fluid",4,"ngIf"],["src","../../../assets/media/pay-logo.svg","alt","",1,"img-fluid"],["src","../../../assets/media/reward-cup.svg","alt","",1,"img-fluid"],["src","../../../assets/media/success-logo.svg","alt","",1,"img-fluid","p-success"],[1,"big-font","pb-4"],[1,"col-md-12","text-center","mt-4"],["class","",4,"ngIf"],[1,"text-primary"],[1,""],[1,"row","text-center","p-4","bottom-position"],[1,"col-md-12","text-center"],["class","payme-des",4,"ngIf"],[1,"btn","btn-mm-p",3,"click"],[1,"payme-des"],[1,"row","cont-cent","mt-5"],[1,"text-center","mt-5"],[1,"myr-icon-green","mb-4"],[1,"pt-3"],["class","payment-succ-des",4,"ngIf"],["class","payment-des",4,"ngIf"],[1,"row","text-center","ms-0","p-4","bottom-position"],[1,"payment-succ-des"],[1,"payment-des"],[3,"reqFrom","qrCodeUrl","qrCode","closeQRCode"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,U,6,1,"div",0),e.\u0275\u0275template(1,z,1,3,"app-qrcode-info",1)),2&t&&(e.\u0275\u0275property("ngIf",!i.showQRCodeInfo),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showQRCodeInfo))},directives:[s.O5,y],styles:[".pma[_ngcontent-%COMP%]{padding:10px!important}.pma[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px!important;line-height:24px;font-weight:500;color:#000}.pay-screen[_ngcontent-%COMP%]{z-index:999999999999;background-color:#fff}.bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0}.btn-mm-p-disabled[_ngcontent-%COMP%]{background-color:#c4c4c4;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:9px 104px!important;line-height:19px}.btn-mm-p-disabled[_ngcontent-%COMP%]:hover{opacity:.9}.btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important;width:100%}.btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.payme-des[_ngcontent-%COMP%]{color:#ad0c62;font-weight:500;font-size:15px;line-height:18px;text-align:center}.myr-icon[_ngcontent-%COMP%]{background-color:#d9d9d9!important;border-radius:67px!important;width:110px;height:110px;margin-left:103px}.myr-icon[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#8a8a8a}.myr-icon[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8a8a8a;font-weight:500;font-size:20px;line-height:24px;text-align:center}.myr-icon-green[_ngcontent-%COMP%]{background-color:#0cad26!important;border-radius:67px!important;width:110px;height:110px;box-shadow:4px 4px 4px #0000001a;margin:0 auto}.myr-icon-green[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#f3f2f2}.myr-icon-green[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#f3f2f2;font-weight:500;font-size:20px;line-height:24px;text-align:center}.payment-succ-des[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:25px;text-align:center;color:#ad0c62}.payment-des[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center;color:#000}"]}),n})()},{path:"qrinfo",component:y},{path:"**",redirectTo:"list",pathMatch:"full"}]}];let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[d.Bz.forChild(F)],d.Bz]}),n})();var G=a(4466);let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.ez,j,G.m]]}),n})()},1413:(f,u,a)=>{a.d(u,{s:()=>c});var s=a(2340),d=a(4893),m=a(520);let c=(()=>{class e{constructor(r){this.http=r}getProfileDetails(r){return this.http.get(`${s.N.BlueNumberGlobalAPI}/api/v1/Person/${r}`)}getDataRequesDetailsById(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/${r}`)}updateProfileDetails(r){return this.http.put(`${s.N.BlueNumberGlobalAPI}/api/v1/Person`,r)}updateProfileStatus(){return this.http.put(`${s.N.BlueNumberGlobalAPI}/api/v1/Person/complete`,null)}uploadFileToSurvey(r,p){return this.http.post(`${s.N.BlueNumberDataReqAPI}/api/v1/File/${r}`,p)}setConnectionRequestDetailsByCode(r){return this.http.post(`${s.N.BlueNumberGlobalAPI}/api/v1/ConnectionRequestCode/ConnectionByCode`,r)}verifyOTP(r){return this.http.post(`${s.N.BlueNumberDataReqAPI}/api/v1/OtpTracker/VerifyOTPUpdate`,r)}generateOTP(r){return this.http.post(`${s.N.BlueNumberDataReqAPI}/api/v1/OtpTracker/GenerateOTP`,r)}isBlueNoQualified(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataQualified/bluenumberids?ContextId=${r.ContextId}&PhonenumbersorBluenumbers=${r.blueNo}`)}checkSSICredentials(){return this.http.get(`${s.N.BlueNumberCredentialsAPI}/api/v1/Account/CheckSSICredential`)}}return e.\u0275fac=function(r){return new(r||e)(d.\u0275\u0275inject(m.eN))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3525:(f,u,a)=>{a.d(u,{F:()=>c});var s=a(2340),d=a(4893),m=a(520);let c=(()=>{class e{constructor(r){this.http=r}getSurveyDetailsbyQRCode(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/QRCode/${r}`)}getSurveyDetailsResponseForAnsweredQRCode(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/ResponseOnly/QRCode/${r}`)}getSurveyGroupByQRCode(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/SurveyGroupStateBySS/QRCode/${r}`)}getSurveyResponseCount(r,p){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/SurveyGroupResponseCount/QRCode/${r}/${p}`)}getDataRequesDetailsById(r){return this.http.get(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequest/${r}`)}saveSurveyResponse(r){return this.http.post(`${s.N.BlueNumberDataReqAPI}/api/v1/DataRequestResponse`,r)}checkSurveyIsValidOrNot(r,p,h){return this.http.get(`${s.N.BluenumberSurveyOTPValidationUrl}/api/check_qualification.php?api_key=bluenumbermmtestapi2023&r_id=${r}&q_id=${p}&s_id=${h}&env=${s.N.envType}`)}getConnectionRequestDetailsByCode(r){return this.http.get(`${s.N.BlueNumberGlobalAPI}/api/v1/ConnectionRequestCode/Bluenumber/${r}`)}}return e.\u0275fac=function(r){return new(r||e)(d.\u0275\u0275inject(m.eN))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);