(self.webpackChunknewwebpmammahp=self.webpackChunknewwebpmammahp||[]).push([[545],{3545:(he,z,m)=>{"use strict";m.r(z),m.d(z,{DashboardModule:()=>Wi});var h=m(9808),f=m(6696),w=m(8998),e=m(4893),O=m(7420),E=m(1413);let g=(()=>{class i{constructor(t,n,o,s){this.router=t,this.route=n,this.sharedService=o,this.dashboardService=s,this.organizationName=""}ngOnInit(){this.route.paramMap.subscribe(t=>{t.params.orgName&&(this.organizationName=t.params.orgName)})}onAgreeClick(){let t={code:localStorage.getItem("connid"),bluenumber:localStorage.getItem("personBluenumber")};this.sharedService.startLoader(),this.dashboardService.setConnectionRequestDetailsByCode(t).subscribe(n=>{this.sharedService.stopLoader(),n.isError||this.router.navigateByUrl("home/language")})}onRejectClick(){localStorage.clear(),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),w.g.signOut()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(E.s))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-acceptance-screen"]],decls:15,vars:1,consts:[[1,"container"],[1,"row","text-center","acceptance-scren"],[1,"col-md-12"],[1,"content-bor","pt-5"],[1,"fw-light"],[1,"fw-bold"],[1,"btn","btn-p-agr",3,"click"],[1,"btn","btn-l-reje",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),e.\u0275\u0275text(5," Please connect to "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275elementStart(7,"strong",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(9," to answer this survey "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div")(11,"button",6),e.\u0275\u0275listener("click",function(){return n.onAgreeClick()}),e.\u0275\u0275text(12,"Agree & Connect"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",7),e.\u0275\u0275listener("click",function(){return n.onRejectClick()}),e.\u0275\u0275text(14,"Reject"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",n.organizationName," "))},styles:[".acceptance-scren[_ngcontent-%COMP%]{height:100vh;padding:10px 38px;display:grid;place-items:center}.content-bor[_ngcontent-%COMP%]{border:1.5px solid #AD0C62;padding:40px 0;border-radius:20px}.content-bor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#545454!important;font-size:18px;margin-bottom:30px!important}.btn-p-agr[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:12px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;text-align:center;line-height:22px;padding:10px 40px!important;border:none;margin-bottom:19px!important}.btn-p-agr[_ngcontent-%COMP%]:hover{opacity:.8!important;background-color:#ad0c62;color:#fff}.btn-l-reje[_ngcontent-%COMP%]{background-color:#f8f8f8;cursor:pointer;font-size:12px;border-radius:10px;font-weight:400;text-align:center;line-height:22px;padding:10px 68px!important;border:none}.btn-l-reje[_ngcontent-%COMP%]:hover{opacity:.9;background-color:#f8f8f8;color:#545454!important}"]}),i})();var y=m(7445),b=m(8746),x=m(2340),c=m(3075),C=m(7432),k=m(3525),$=m(2515),T=m(8077);const ge=["content"],ve=["locationPopup"],fe=["otpPopup"],_e=["qualifMsgPopup"],ye=["bankPopup"];function be(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"div",15),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goToProfilePage()}),e.\u0275\u0275element(2,"img",16),e.\u0275\u0275elementStart(3,"span",17),e.\u0275\u0275text(4,"My Profile"),e.\u0275\u0275elementEnd()()()}}function Ce(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",18),e.\u0275\u0275element(2,"img",19),e.\u0275\u0275elementEnd()())}function Se(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h5",30),e.\u0275\u0275text(1," Start Survey "),e.\u0275\u0275elementEnd())}function xe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h5",30),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.hours," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.minutes," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.seconds," ")}}function Me(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onStartSurveyClick()}),e.\u0275\u0275elementStart(1,"div",28),e.\u0275\u0275template(2,Se,2,0,"h5",29),e.\u0275\u0275template(3,xe,6,3,"h5",29),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",3===t.surveyState&&"ssid"===t.isSidOrSSId?"myr-icon-green":"myr-icon mouse-notallowed"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",3===t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4===t.surveyState)}}function Oe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275template(1,Me,4,3,"div",26),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered)}}function Pe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.msg," ")}}function Ie(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"a",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onStartSurveyClick()}),e.\u0275\u0275text(2," Request Submitted! "),e.\u0275\u0275elementEnd()()}}function we(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," Thank you for "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," completing all surveys. "),e.\u0275\u0275elementEnd())}function ke(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," You have claimed "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",5),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,"")}}function De(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Pe,2,1,"h1",31),e.\u0275\u0275template(2,Ie,3,0,"div",24),e.\u0275\u0275template(3,we,4,0,"h1",31),e.\u0275\u0275template(4,ke,5,2,"h1",31),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(1==t.surveyState||2==t.surveyState||5==t.surveyState||6==t.surveyState)&&!t.isAllSurveysAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim)&&5==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim)&&t.surveyType!=t.globalConstants.request&&"mmind"!=t.appId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&(null==t.surveyDetails?null:t.surveyDetails.claim))}}function Ee(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",20)(1,"div",21)(2,"div",22),e.\u0275\u0275template(3,Oe,2,1,"div",23),e.\u0275\u0275template(4,De,5,4,"div",24),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","ssid"==t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.surveyType!=t.globalConstants.verify&&t.surveyType!=t.globalConstants.feedback)}}function Te(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",42),e.\u0275\u0275text(1,"Do you want to take surveys about your working conditions?"),e.\u0275\u0275elementEnd())}function Ae(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",43),e.\u0275\u0275text(1,"Please confirm by answering 5 questions about who you work for"),e.\u0275\u0275elementEnd())}function Le(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",44),e.\u0275\u0275text(1," If you qualify you will receive an SMS to do the surveys "),e.\u0275\u0275elementEnd())}function Be(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Te,2,0,"p",39),e.\u0275\u0275template(2,Ae,2,0,"p",40),e.\u0275\u0275template(3,Le,2,0,"p",41),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",5!=t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",5!=t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",5==t.surveyState)}}function Re(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.msg," ")}}function Fe(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h1",45),e.\u0275\u0275text(1," New survey available! "),e.\u0275\u0275elementEnd())}function Ve(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",46),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.msg," ")}}function Ne(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," Today's survey is done!"),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," Next survey available in:"),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"span",47),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.timeCounter," ")}}function je(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," Survey available in:"),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",47),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.timeCounter," ")}}function qe(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"a",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onStartSurveyClick()}),e.\u0275\u0275text(2," Request Submitted! "),e.\u0275\u0275elementEnd()()}}function Qe(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," Thank you for "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," completing all surveys. "),e.\u0275\u0275elementEnd())}function Ge(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," You have claimed "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",5),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,"")}}function ze(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",48),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onStartSurveyClick()}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",3==t.surveyState?"mouse-pointer":"mouse-notallowed btn-mm-p-disabled"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" Start ",t.surveyType==t.globalConstants.request&&"sid"==t.isSidOrSSId?"Request":"Survey"," ")}}function Ue(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",49),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onStartSurveyClick()}),e.\u0275\u0275text(1," Start Registration "),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",3==t.surveyState?"mouse-pointer":"mouse-notallowed btn-mm-p-disabled")}}function He(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Be,4,3,"div",24),e.\u0275\u0275template(2,Re,2,1,"h1",31),e.\u0275\u0275template(3,Fe,2,0,"h1",35),e.\u0275\u0275template(4,Ve,2,1,"p",36),e.\u0275\u0275template(5,Ne,7,1,"h1",31),e.\u0275\u0275template(6,je,5,1,"h1",31),e.\u0275\u0275template(7,qe,3,0,"div",24),e.\u0275\u0275template(8,Qe,4,0,"h1",31),e.\u0275\u0275template(9,Ge,5,2,"h1",31),e.\u0275\u0275template(10,ze,2,2,"a",37),e.\u0275\u0275template(11,Ue,2,1,"a",38),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sid"==t.isSidOrSSId&&"mmind"!=t.appId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(1==t.surveyState||2==t.surveyState||5==t.surveyState||6==t.surveyState)&&!t.isAllSurveysAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3===t.surveyState&&"ssid"===t.isSidOrSSId&&t.currentSurveyDay>1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3===t.surveyState&&"ssid"===t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4==t.surveyState&&!t.isFutureDaySurvey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4==t.surveyState&&t.isFutureDaySurvey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim)&&5==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim)&&t.surveyType!=t.globalConstants.request&&"mmind"!=t.appId&&"sid"!=t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&(null==t.surveyDetails?null:t.surveyDetails.claim)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered&&"mmind"!=t.appId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered&&"mmind"==t.appId)}}function $e(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h6",32)(1,"p"),e.\u0275\u0275text(2,"Please enable "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," location and answer 1 question to "),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6," verify yourself!"),e.\u0275\u0275elementEnd()())}function Ye(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h6",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.msg," ")}}function Ke(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,$e,7,0,"h6",31),e.\u0275\u0275template(2,Ye,2,1,"h6",31),e.\u0275\u0275elementStart(3,"a",48),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onStartSurveyClick()}),e.\u0275\u0275text(4," Verify "),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3!=t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",3==t.surveyState?"mouse-pointer":"mouse-notallowed btn-mm-p-disabled")}}function We(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h6",50),e.\u0275\u0275text(2," Please scan the QR code again. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}function Ze(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h6",50)(1,"p"),e.\u0275\u0275text(2,"Please enable "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," location and answer some questions about "),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6," your experience with this program "),e.\u0275\u0275elementEnd()())}function Xe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",32),e.\u0275\u0275text(1," Survey available in:"),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",47),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.timeCounter," ")}}function Je(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h6",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.msg," ")}}function et(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h6",32),e.\u0275\u0275text(1," Thank you for completing "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," the survey! "),e.\u0275\u0275elementEnd())}function tt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h6",32),e.\u0275\u0275text(1," You have claimed "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275elementStart(3,"span",5),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered," ")}}function nt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",53),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(4).onStartSurveyClick()}),e.\u0275\u0275text(1," Start Survey "),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngClass",3==t.surveyState?"mouse-pointer":"mouse-notallowed btn-mm-p-disabled")}}function it(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h6",43)(1,"p"),e.\u0275\u0275text(2,"If you complete this survey you will be rewarded "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," with "),e.\u0275\u0275elementStart(5,"span",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate2(" ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,". ")}}function ot(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ze,7,0,"h6",51),e.\u0275\u0275template(2,Xe,5,1,"h1",31),e.\u0275\u0275template(3,Je,2,1,"h6",31),e.\u0275\u0275template(4,et,4,0,"h6",31),e.\u0275\u0275template(5,tt,5,2,"h6",31),e.\u0275\u0275template(6,nt,2,1,"a",52),e.\u0275\u0275template(7,it,7,2,"h6",40),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3!=t.surveyState&&!t.isAllSurveysAnswered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&(null==t.surveyDetails?null:t.surveyDetails.claim)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAllSurveysAnswered&&3==t.surveyState),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",3==t.surveyState)}}function rt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,We,3,0,"ng-container",24),e.\u0275\u0275template(2,ot,8,7,"ng-container",24),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","mmind"==t.appId&&"ssid"==t.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","mmind"==t.appId&&"sid"==t.isSidOrSSId||"mmind"!=t.appId)}}function st(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",20)(1,"div",21)(2,"div",22),e.\u0275\u0275element(3,"img",34),e.\u0275\u0275template(4,He,12,11,"div",24),e.\u0275\u0275template(5,Ke,5,3,"div",24),e.\u0275\u0275template(6,rt,3,2,"div",24),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.surveyType!=t.globalConstants.verify&&t.surveyType!=t.globalConstants.feedback),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.surveyType==t.globalConstants.verify&&"mmind"!=t.appId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.surveyType==t.globalConstants.feedback)}}function at(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",61)(1,"div",62),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onMySurveysClick()}),e.\u0275\u0275element(2,"img",63),e.\u0275\u0275elementStart(3,"h4",17),e.\u0275\u0275text(4,"My Surveys"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass","ssid"==t.isSidOrSSId&&t.isSidSsidValid?null:"btn-opacity")}}function lt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",64)(1,"div",62),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onFAQClick()}),e.\u0275\u0275element(2,"img",65),e.\u0275\u0275elementStart(3,"h4"),e.\u0275\u0275text(4,"FAQ"),e.\u0275\u0275elementEnd()()()}}function ct(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",66)(1,"div",67),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).goToProfilePage()}),e.\u0275\u0275element(2,"img",68),e.\u0275\u0275elementStart(3,"h4"),e.\u0275\u0275text(4,"My Profile"),e.\u0275\u0275elementEnd()()()}}function dt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",61)(1,"div",62),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onHelpClick()}),e.\u0275\u0275element(2,"img",69),e.\u0275\u0275elementStart(3,"h4"),e.\u0275\u0275text(4,"Help"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass","ssid"==t.isSidOrSSId?"q-mt-20":null)}}function ut(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",70)(1,"a",71),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onShareQRClick()}),e.\u0275\u0275text(2," Sharable QR Code "),e.\u0275\u0275elementEnd()()}}function pt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",72)(1,"p",73),e.\u0275\u0275text(2,"If you qualify and you answer all the required surveys, you will be paid "),e.\u0275\u0275elementStart(3,"span",5),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"p",74),e.\u0275\u0275text(6,"Your identity and responses will not be revealed to your employer"),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,".")}}function mt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"p",80),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).showClaimsPage()}),e.\u0275\u0275text(2,"Click now "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," to claim payment "),e.\u0275\u0275elementEnd()()}}function ht(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",75)(1,"div",76),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).showClaimsPage()}),e.\u0275\u0275elementStart(2,"div",77)(3,"h5",17),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h1"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,mt,5,0,"div",78),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",!t.isAllSurveysAnswered||null!=t.surveyDetails&&t.surveyDetails.claim?"myr-icon":"myr-icon-green"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.currency),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.paymentOffered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim))}}function gt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"p",80),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).showClaimsPage()}),e.\u0275\u0275text(2,"Click now "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," to claim payment "),e.\u0275\u0275elementEnd()()}}function vt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",75)(1,"div",76),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).showClaimsPage()}),e.\u0275\u0275elementStart(2,"div",77)(3,"h5",17),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h1"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,gt,5,0,"div",78),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",!t.isAllSurveysAnswered||null!=t.surveyDetails&&t.surveyDetails.claim?"myr-icon":"myr-icon-green"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.currency),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.paymentOffered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim))}}function ft(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",54)(1,"div",21),e.\u0275\u0275template(2,at,5,1,"div",55),e.\u0275\u0275template(3,lt,5,0,"div",56),e.\u0275\u0275template(4,ct,5,0,"div",57),e.\u0275\u0275template(5,dt,5,1,"div",55),e.\u0275\u0275template(6,ut,3,0,"div",58),e.\u0275\u0275template(7,pt,7,2,"div",59),e.\u0275\u0275template(8,ht,8,4,"div",60),e.\u0275\u0275template(9,vt,8,4,"div",60),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.surveyType!=t.globalConstants.feedback),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"==t.isSidOrSSId&&t.surveyType!=t.globalConstants.feedback),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"==t.isSidOrSSId&&t.surveyType!=t.globalConstants.feedback),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.surveyType!=t.globalConstants.feedback),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.surveyType==t.globalConstants.shareQrCode&&t.isAllSurveysAnswered&&(null==t.surveyDetails?null:t.surveyDetails.claim)||t.surveyType==t.globalConstants.shareQrCode&&t.claimType==t.globalConstants.eachSurvey&&(null==t.surveyDetails?null:t.surveyDetails.surveyGroupItems)&&(null==t.surveyDetails?null:t.surveyDetails.surveyGroupItems[0])&&(null==t.surveyDetails?null:t.surveyDetails.surveyGroupItems[0].claimEachSurvey)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sid"==t.isSidOrSSId&&"mmind"!=t.appId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","mmind"!=t.appId&&"sid"!=t.isSidOrSSId&&""!=t.isSidOrSSId&&t.isSidSsidValid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","mmind"==t.appId&&"sid"==t.isSidOrSSId&&t.isSidSsidValid)}}function _t(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",79)(1,"p",80),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).showClaimsPage()}),e.\u0275\u0275text(2,"Click now "),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," to claim payment "),e.\u0275\u0275elementEnd()()}}function yt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",96)(1,"div",97)(2,"div",98)(3,"h5",17),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h1"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,_t,5,0,"div",99),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.currency),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.surveyDetails?null:t.surveyDetails.paymentOffered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAllSurveysAnswered&&!(null!=t.surveyDetails&&t.surveyDetails.claim))}}function bt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",81)(1,"h3",82),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",83),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closePopup()}),e.\u0275\u0275element(4,"button",84),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",85)(6,"section",86)(7,"div",87)(8,"div")(9,"div",88),e.\u0275\u0275template(10,yt,8,3,"div",89),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",90)(12,"h5",91),e.\u0275\u0275text(13,"You can only claim "),e.\u0275\u0275element(14,"br"),e.\u0275\u0275elementStart(15,"span",92),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17," after completing the"),e.\u0275\u0275element(18,"br"),e.\u0275\u0275text(19," survey. "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(20,"div",93)(21,"div",94)(22,"button",95),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closePopup()}),e.\u0275\u0275text(23," Okay "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",""!=t.isSidOrSSId&&t.isSidSsidValid),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate2("",null==t.surveyDetails?null:t.surveyDetails.currency," ",null==t.surveyDetails?null:t.surveyDetails.paymentOffered,"")}}function Ct(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",81)(1,"h3",82),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",85)(4,"section",86)(5,"div",100),e.\u0275\u0275text(6," To enable location : "),e.\u0275\u0275element(7,"br"),e.\u0275\u0275text(8," Go to settings > type location > tap the location icon > turn it on "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",93)(10,"div",94)(11,"button",95),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onLocationOkClick()}),e.\u0275\u0275text(12," Okay "),e.\u0275\u0275elementEnd()()()()}}function St(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",110)(1,"input",111,112),e.\u0275\u0275listener("keyup",function(o){const a=e.\u0275\u0275restoreView(t).index;return e.\u0275\u0275nextContext(2).keyUpEvent(o,a)}),e.\u0275\u0275elementEnd()()}if(2&i){const t=r.$implicit,n=r.index;e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("formControlName",t),e.\u0275\u0275property("id",n)}}function xt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",113),e.\u0275\u0275text(1,"Enter valid OTP"),e.\u0275\u0275elementEnd())}function Mt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",81)(1,"h5",101),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",83),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeOTPPopup()}),e.\u0275\u0275element(4,"button",84),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",102)(6,"div",103)(7,"h6"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",104)(10,"form",105),e.\u0275\u0275listener("ngSubmit",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onOTPConfirmClick()}),e.\u0275\u0275elementStart(11,"div",106),e.\u0275\u0275template(12,St,3,2,"div",107),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,xt,2,0,"div",108),e.\u0275\u0275elementStart(14,"button",109),e.\u0275\u0275text(15,"Continue"),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",null==t.surveyDetails?null:t.surveyDetails.surveyVerificationMessage," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.otpForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.formInput),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isOtpInValid)}}function Ot(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",81)(1,"h3",82),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",85)(4,"section",86)(5,"div",100),e.\u0275\u0275text(6," You are not eligible to answer the survey. "),e.\u0275\u0275element(7,"br"),e.\u0275\u0275text(8," As you are unable to answer the qualification survey within the time period, "),e.\u0275\u0275element(9,"br"),e.\u0275\u0275text(10," You cannot answer any surveys now. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",93)(12,"div",94)(13,"button",95),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closePopup()}),e.\u0275\u0275text(14," Okay "),e.\u0275\u0275elementEnd()()()()}}function Pt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",81)(1,"h3",82),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",83),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closePopup()}),e.\u0275\u0275element(4,"button",84),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",85)(6,"section",86)(7,"div",100)(8,"p",114),e.\u0275\u0275text(9," We need your UPI details to pay you after you complete the survey. "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",93)(11,"div",94)(12,"button",115),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onAddUpiDetailsClick()}),e.\u0275\u0275text(13," Add UPI details "),e.\u0275\u0275elementEnd()()()()}}let It=(()=>{class i{constructor(t,n,o,s,a,l,d,u){this.router=t,this.sharedService=n,this.route=o,this.surveyService=s,this.claimsService=a,this.dashboardService=l,this.modalService=d,this.globalConstants=C.Z,this.popupMsg="",this.popupMsgConn="",this.firstSurveyId="",this.surveyHistory=[],this.mainSurveyDetails={},this.surveyDetails={},this.nextSurveyDetails={},this.disableStartSurvey=!1,this.surveyOnFutureDate=!1,this.isFirstSurveyAnswerd=!1,this.currentSurveyDay=1,this.maxResponseCount=0,this.isFutureDaySurvey=!1,this.lastSurveyId="",this.appId="",this.surveyId="",this.surveyType="",this.claimType="",this.isSidOrSSId="",this.isAllSurveysAnswered=!1,this.isSIDAnswered=!1,this.isSidSsidValid=!0,this.latitude=0,this.longitude=0,this.formInput=["input1","input2","input3","input4"],this.isOtpInValid=!1,this.numberPattern=/^[0-9]+$/,this.loggedInUserDetails={},this.currentSurveyDetails={},this.languageSelected="https://youtube.com/embed/j2Kcpw3BcJQ",this.languagesList=[{label:"English (default)",value:"https://youtube.com/embed/j2Kcpw3BcJQ"}],this.isFirstSurveyNotAnsweredWithInTime=!1,this.isShareQrCodeCompleted=!1,this.otpForm=this.toFormGroup(this.formInput),u.backdrop="static",u.keyboard=!1}toFormGroup(t){const n={};return t.forEach(o=>{n[o]=new c.NI("",c.kI.required)}),new c.cw(n)}ngOnInit(){localStorage.removeItem("surveyMessages"),this.sharedService.successErrorMsg.isRequestSurvey=!1,this.route.queryParamMap.subscribe(o=>{o.params.ssid&&localStorage.setItem("ssid",o.params.ssid)}),this.surveyType=localStorage.getItem("surveyType"),this.claimType=localStorage.getItem("claim");let t=localStorage.getItem("sid"),n=localStorage.getItem("ssid");""!=t&&"null"!=t&&null!=t&&(this.isSidOrSSId="sid"),""!=n&&"null"!=n&&null!=n&&(this.isSidOrSSId="ssid"),this.appId=localStorage.getItem("app"),this.fetchProfileDetails(),this.fetchSurveyInfo(),this.getLocation()}onFAQClick(){window.open("https://millionmakers.org/faqs")}fetchSurveyInfo(){if(this.msg="",this.isFirstSurveyAnswerd=!1,this.sharedService.startLoader(),""!=localStorage.getItem("sid")&&null!=localStorage.getItem("sid")&&"null"!=localStorage.getItem("sid"))this.fetchSurveySIDDetails();else{if(null==localStorage.getItem("ssid")||"null"==localStorage.getItem("ssid"))return this.surveyState=5,this.msg="Please scan the QR code again.",void(this.isSidSsidValid=!1);this.fetchSurveySetSSIDDetails()}}fetchSurveySIDDetails(){this.surveyService.getSurveyDetailsbyQRCode(localStorage.getItem("sid")).subscribe(t=>{this.surveyDetails=t.result,this.surveyId=t.result.id;let n=new Date;n.setHours(0,0,0,0);let o=new Date(this.surveyDetails.endDate);if(o=new Date(o.getTime()+6e4*o.getTimezoneOffset()),console.log("DATE: ",o),o-n<0)return this.surveyState=2,void(this.msg="Survey program ended. We will notify when next program available.");let a=new Date(this.surveyDetails.endDate);a=new Date(a.getTime()+6e4*a.getTimezoneOffset()),a.setHours(0,0,0,0);let l=a-n;0==l?(this.surveyState=3,this.msg="Please start today's survey!"):l>0&&(this.surveyState=4,this.showCounter(this.surveyDetails.startDate))},t=>(this.fetchSurveyAmountDetails(),"AlreadyAnswered"==t.error.responseException.exceptionMessage.substring(0,15)?(this.surveyState=5,this.msg="Survey already answered.",this.isAllSurveysAnswered=!0,void this.router.navigateByUrl("/home")):t.error.responseException.exceptionMessage.includes("ReachedMaxParticipants")?(this.surveyState=6,this.msg="Survey reached maximum no. of participants.",this.isAllSurveysAnswered=!1,void this.router.navigateByUrl("/home")):(this.surveyState=5,this.msg="Survey not found. Please scan the QR code again.",this.isAllSurveysAnswered=!1,this.isSidSsidValid=!1,void this.router.navigateByUrl("/home"))))}fetchSurveyAmountDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyDetailsResponseForAnsweredQRCode(localStorage.getItem("sid")).subscribe(t=>{this.sharedService.stopLoader(),t.isError||(this.surveyDetails=t.result)})}fetchSurveySetSSIDDetails(){this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).subscribe(t=>{this.sharedService.stopLoader(),this.surveyDetails=t.result;let n={claimMessage:this.surveyDetails.claimMessage,paymentMessage:this.surveyDetails.paymentMessage,qualificationMessage:this.surveyDetails.qualificationMessage,surveyVerificationMessage:this.surveyDetails.surveyVerificationMessage};if(localStorage.setItem("surveySetId",this.surveyDetails.id),localStorage.setItem("surveyMessages",JSON.stringify(n)),null==this.surveyDetails||this.surveyDetails.surveyGroupItems.length<=0)return this.surveyState=1,void(this.msg="Surveys are not available");let o=0;if(this.surveyDetails.surveyGroupItems.forEach(p=>{this.surveyDetails.currency=p.currency,this.surveyDetails.paymentOffered=p.paymentOffered,p.isAnswered&&o++}),o==this.surveyDetails.surveyGroupItems.length&&0!=o)return void(this.isAllSurveysAnswered=!0);this.isAllSurveysAnswered=!1;let s=new Date;s.setHours(0,0,0,0);let a=new Date(this.surveyDetails.endDate);a=new Date(a.getTime()+6e4*a.getTimezoneOffset());let l=new Date(this.surveyDetails.startDate);if(l=new Date(l.getTime()+6e4*l.getTimezoneOffset()),l-s>0&&"Hourly"!=this.surveyDetails.type)return this.isFutureDaySurvey=!0,this.surveyState=4,void this.showHourlySurveyCounter(l);let d=a-s;if(console.log(d),d<0)return this.surveyState=2,this.msg="Survey program ended. We will notify when next program available.",void(this.sharedService.successErrorMsg.message="Thanks for completing the survey set.");if(0==d&&1==this.surveyDetails.surveyGroupItems[this.surveyDetails.surveyGroupItems.length-1].isAnswered)return this.surveyState=2,void(this.msg="Survey program ended. We will notify when next program available.");this.sortSuveys();let u=this.surveyDetails.surveyGroupItems.length;if(u>0&&(this.lastSurveyId=this.surveyDetails.surveyGroupItems[u-1].surveyId),this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId,"Hourly"!=this.surveyDetails.type)this.dailySurveySSIDDetails(s);else{let p=new Date;p=new Date(p.getTime()+6e4*p.getTimezoneOffset());let v=new Date(this.surveyDetails.startDate);v=new Date(v.getTime()+6e4*v.getTimezoneOffset());let M=new Date(this.surveyDetails.endDate);M=new Date(M.getTime()+6e4*M.getTimezoneOffset()),v-p>0&&(this.isFutureDaySurvey=!0),this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered,this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId,this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered;for(let S=0;S<this.surveyDetails.surveyGroupItems.length;S++){let L=this.surveyDetails.surveyGroupItems[S];if(this.currentSurveyDay=S+1,!L.isAnswered){this.nextSurveyDetails=L;let pe=v-p;if(this.surveyId=L.surveyId,0==pe){this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys";break}if(M-p>=0){let I,F,q,G=this.surveyDetails.minutesDifference;if(I=this.surveyDetails.surveyGroupItems[S-1],!I||!I.answeredTime){let V=new Date;V=new Date(V.getTime()+6e4*V.getTimezoneOffset());let me=new Date(this.surveyDetails.startDate);if(me.setHours(0,0,0,0),this.nextSurveyDetails=L,me-V<=0){this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys";break}1==S?(this.surveyState=3,this.msg="Please start today's survey!"):(this.surveyState=4,this.showHourlySurveyCounter(v));break}{F=new Date(I.answeredTime),F=new Date(F.getTime()+6e4*F.getTimezoneOffset()),q=new Date(F.getTime()+60*Number(G)*1e3);let V=q-p;if(V<=0)this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys";else if(V>0){1==S?(this.surveyState=3,this.msg="Please start today's survey!"):(this.surveyState=4,this.showHourlySurveyCounter(q));break}}break}return}this.nextSurveyDetails=this.surveyDetails.surveyGroupItems[S]}}},t=>"Survey is not found for QR:null"==t.error.responseException.exceptionMessage?(this.surveyState=5,this.msg="Please scan the QR code again.",this.isSidSsidValid=!1,void this.router.navigateByUrl("/home")):(this.surveyState=5,this.msg="Survey not found. Please scan the QR code again.",this.isSidSsidValid=!1,void this.router.navigateByUrl("/home")))}showHourlySurveyCounter(t){this.timerSubscription=(0,y.F)(1e3).subscribe(n=>{let o,s=0,a=0,l=0,d=0;o=new Date;let u=new Date;u=new Date(u.getTime()+6e4*u.getTimezoneOffset());let p=t-u;p<=0&&this.clearCounter(),s=Math.floor(p/864e5),a=Math.floor(p%864e5/36e5)+24*s,l=Math.floor(p%36e5/6e4),d=Math.floor(p%6e4/1e3),this.timeCounter=a+"hrs "+l+"min "+d+"secs",this.hours=`${a} hrs`,this.minutes=`${l} mins`,this.seconds=`${d} secs`,this.sharedService.remainingTimeForSurvey.next(this.timeCounter)})}dailySurveySSIDDetails(t){this.surveyDetails.surveyGroupItems.length>0&&(this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered,this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId),this.surveyDetails.surveyGroupItems.forEach((n,o)=>{let s=new Date;if(!n.isAnswered)if(0==o){let a;if(n.endDate){if(a=new Date(n.endDate),new Date(s.getFullYear(),s.getMonth(),s.getDate())<=new Date(a.getFullYear(),a.getMonth(),a.getDate()))return this.nextSurveyDetails=n,this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys",void(this.isFirstSurveyNotAnsweredWithInTime=!1);this.isFirstSurveyNotAnsweredWithInTime=!0}}else if(1==o&&this.claimType!=this.globalConstants.eachSurvey)this.surveyState=3,this.msg="Please start today's survey!",this.nextSurveyDetails=n;else{let a=this.surveyDetails.surveyGroupItems[o-1];if(a.isAnswered){let l=new Date(a.answeredTime),d=new Date;return new Date(d.getFullYear(),d.getMonth(),d.getDate())>new Date(l.getFullYear(),l.getMonth(),l.getDate())?(this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys",void(this.nextSurveyDetails=n)):(this.surveyState=4,void this.showCounter(n.startDate))}}})}getTotalSurveyResponseCount(){this.firstSurveyId&&this.surveyService.getSurveyResponseCount(localStorage.getItem("ssid"),this.firstSurveyId).subscribe(t=>{t.isError||(this.maxResponseCount=t.result)})}showCounter(t){this.timerSubscription=(0,y.F)(1e3).subscribe(n=>{let o,s,a=0,l=0,d=0,u=0;o=new Date,"sid"==this.isSidOrSSId?s=new Date(t):(s=new Date,s.setDate(s.getDate()+1)),s.setHours(0,0,0,0);let p=s-o;p<=0&&this.clearCounter(),a=Math.floor(p/864e5),l=Math.floor(p%864e5/36e5)+24*a,d=Math.floor(p%36e5/6e4),u=Math.floor(p%6e4/1e3),this.timeCounter=l+"hrs "+d+"min "+u+"secs",this.hours=`${l} hrs`,this.minutes=`${d} mins`,this.seconds=`${u} secs`,this.sharedService.remainingTimeForSurvey.next(this.timeCounter)})}clearCounter(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.surveyState=3,this.msg=1==this.currentSurveyDay?"Please start today's survey!":"Don't wait - get paid after you complete 5 days of surveys"}sortSuveys(){return this.surveyDetails.surveyGroupItems.sort((t,n)=>new Date(t.startDate)-new Date(n.startDate))}onStartSurveyClick(){if(console.log("in start survey click",this.surveyState),3==this.surveyState)if(0!=this.latitude&&0!=this.longitude){let t=localStorage.getItem("sharedqrcode");this.surveyType==C.Z.shareQrCode&&""!=t&&null!=t&&"ssid"==this.isSidOrSSId||this.surveyType==C.Z.shareQrCode&&this.claimType==C.Z.eachSurvey&&""!=t&&null!=t&&"ssid"==this.isSidOrSSId?this.surveyDetails.surveyGroupItems[0].isAnswered?this.checkFirstSurveyAnswered():this.checkQRCodeDetails():this.checkFirstSurveyAnswered()}else this.openClaimModal(this.locationPopup)}checkFirstSurveyAnswered(){if(this.isFirstSurveyAnswerd)if(this.nextSurveyDetails.smsCode)if(this.surveyDetails.surveyGroupItems.length>=2&&this.nextSurveyDetails.surveyId==this.surveyDetails.surveyGroupItems[1].surveyId){if(this.claimType==C.Z.eachSurvey&&this.surveyType==C.Z.shareQrCode){let o=this.surveyDetails.surveyGroupItems[0];if(o.isAnswered&&!o.claimEachSurvey)return localStorage.setItem("currentSurveyDay",1..toString()),void this.router.navigateByUrl("claims/list")}let t=this.surveyDetails.surveyGroupItems[0].dataRequestResponseId,n=localStorage.getItem("qid");this.currentSurveyDetails=this.surveyDetails.surveyGroupItems[1],this.sharedService.startLoader(),this.surveyService.checkSurveyIsValidOrNot(t,n,localStorage.getItem("ssid")).subscribe(o=>{if(console.log(o),this.sharedService.stopLoader(),o.success&&o.qualification)return this.currentSurveyDay=2,this.sharedService.successErrorMsg.firstSurveyId=this.firstSurveyId,this.sharedService.successErrorMsg.nextSurveyId=this.nextSurveyDetails.surveyId,this.sharedService.successErrorMsg.lastSurveyId=this.lastSurveyId,localStorage.setItem("currentSurveyDay",this.currentSurveyDay.toString()),void this.router.navigateByUrl(this.currentSurveyDetails.odkUrl?`home/survey/odk/${this.nextSurveyDetails.surveyId}`:`home/survey/${this.nextSurveyDetails.surveyId}`);this.sharedService.showToastMesaages("error",o.message)},o=>{var s,a;this.sharedService.stopLoader(),this.sharedService.showToastMesaages("error",null===(a=null===(s=null==o?void 0:o.error)||void 0===s?void 0:s.responseException)||void 0===a?void 0:a.exceptionMessage)})}else this.verifyBlueNoIsQualifiedOrNot();else this.navigateToSurveyPage();else if("Hourly"!=this.surveyDetails.type&&"ssid"==this.isSidOrSSId){if(this.isFirstSurveyNotAnsweredWithInTime)return void this.openClaimModal(this.qualifMsgPopup);this.navigateToSurveyPage()}else this.navigateToSurveyPage()}checkEachSurveyAnswered(t){let n=this.surveyDetails.surveyGroupItems[t];n.isAnswered&&!n.claimEachSurvey?(localStorage.setItem("currentSurveyDay",(t+1).toString()),this.router.navigateByUrl("claims/list")):this.router.navigateByUrl(`home/survey/odk/${this.nextSurveyDetails.surveyId}`)}onLocationOkClick(){this.checkFirstSurveyAnswered(),this.closePopup()}navigateToSurveyPage(){if(3==this.surveyState)if(""!=localStorage.getItem("sid")&&null!=localStorage.getItem("sid")&&(this.sharedService.startLoader(),this.surveyService.getDataRequesDetailsById(this.surveyId).subscribe(t=>{if(this.sharedService.stopLoader(),!t.isError)return this.currentSurveyDetails=t.result,localStorage.setItem("currentSurveyDay",this.currentSurveyDay.toString()),void this.router.navigateByUrl(t.result.odkUrl?`home/survey/odk/${this.surveyId}`:`home/survey/${this.surveyId}`)},t=>{var n,o;console.log(t),this.sharedService.showToastMesaages("error",null===(o=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.responseException)||void 0===o?void 0:o.exceptionMessage)})),"Hourly"!=this.surveyDetails.type){if(this.surveyDetails.surveyGroupItems&&this.surveyDetails.surveyGroupItems.length>0)for(let t=0;t<this.surveyDetails.surveyGroupItems.length;t++){let n=this.surveyDetails.surveyGroupItems[t],o=new Date;if(o.setHours(0,0,0,0),localStorage.getItem("surveyType")==C.Z.shareQrCode&&localStorage.getItem("claim")==C.Z.eachSurvey&&n.isAnswered&&!n.claimEachSurvey)return void this.checkEachSurveyAnswered(t);if(0==n.isAnswered){let s=new Date(n.startDate);return s.setHours(0,0,0,0),s-o<=0?void this.startDailySurvey(n,t):(this.surveyState=4,void this.showCounter(n.startDate))}}}else this.startHourlySurvey()}startDailySurvey(t,n){this.sharedService.startLoader(),this.surveyService.getDataRequesDetailsById(t.surveyId).subscribe(o=>{var s;if(this.sharedService.stopLoader(),!o.isError){this.currentSurveyDetails=o.result,localStorage.setItem("currentSurveyDay",(n+1).toString()),this.sharedService.successErrorMsg.firstSurveyId=this.firstSurveyId,this.sharedService.successErrorMsg.nextSurveyId=this.nextSurveyDetails.surveyId,this.sharedService.successErrorMsg.lastSurveyId=this.lastSurveyId;let a=0;return t.surveyId==(null===(s=null==o?void 0:o.result)||void 0===s?void 0:s.id)&&t.smsCode&&a++,this.currentSurveyDay>=4?this.isFirstSurveyAnswerd?void(0==a?t.odkUrl?this.claimType==C.Z.eachSurvey&&this.surveyType==C.Z.shareQrCode?this.checkEachSurveyAnswered(n):this.router.navigateByUrl(`home/survey/odk/${t.surveyId}`):this.router.navigateByUrl(`home/survey/${t.surveyId}`):this.showOTPPopup(t)):void this.showNoPayMsg():(console.log("max Participants: ",x.N.maxSurveyParticipants),this.maxResponseCount>=x.N.maxSurveyParticipants?this.isFirstSurveyAnswerd?void(0==a?t.odkUrl?this.claimType==C.Z.eachSurvey&&this.surveyType==C.Z.shareQrCode?this.checkEachSurveyAnswered(n):this.router.navigateByUrl(`home/survey/odk/${t.surveyId}`):this.router.navigateByUrl(`home/survey/${t.surveyId}`):this.showOTPPopup(t)):void this.showNoPayMsg():this.isFirstSurveyAnswerd?void(0==a?t.odkUrl?this.claimType==C.Z.eachSurvey&&this.surveyType==C.Z.shareQrCode?this.checkEachSurveyAnswered(n):this.router.navigateByUrl(`home/survey/odk/${t.surveyId}`):this.router.navigateByUrl(`home/survey/${t.surveyId}`):this.showOTPPopup(t)):void(0==a?this.router.navigateByUrl(t.odkUrl?`home/survey/odk/${this.firstSurveyId}`:`home/survey/${this.firstSurveyId}`):this.showOTPPopup(t,this.firstSurveyId)))}},o=>{if("Expired"!=o.error.responseException.exceptionMessage.substring(0,7))return this.router.navigateByUrl("/home/info"),this.surveyState=6,void(this.msg="Survey reached maximum no. of participants.");this.sharedService.successErrorMsg.message="The survey is already expired.",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1})}showNoPayMsg(){this.sharedService.successErrorMsg.firstSurveyId=this.firstSurveyId,this.sharedService.successErrorMsg.message="You are not qualified for payment.",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!0,this.router.navigateByUrl("home/messages")}startHourlySurvey(){this.sharedService.startLoader(),this.surveyService.getDataRequesDetailsById(this.surveyId).subscribe(t=>{if(this.sharedService.stopLoader(),!t.isError){this.currentSurveyDetails=t.result;let n=0;this.surveyDetails.surveyGroupItems.forEach((o,s)=>{var a;if(o.surveyId==(null===(a=null==t?void 0:t.result)||void 0===a?void 0:a.id)){if(o.smsCode)return n++,void this.showOTPPopup(o);this.goToSurveyPage(n)}})}},t=>{var n,o;this.sharedService.showToastMesaages("error",null===(o=null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.responseException)||void 0===o?void 0:o.exceptionMessage)})}goToSurveyPage(t){if(0==t)return this.sharedService.successErrorMsg.firstSurveyId=this.firstSurveyId,this.sharedService.successErrorMsg.nextSurveyId=this.nextSurveyDetails.surveyId,this.sharedService.successErrorMsg.lastSurveyId=this.lastSurveyId,localStorage.setItem("currentSurveyDay",this.currentSurveyDay.toString()),void this.router.navigateByUrl(this.currentSurveyDetails.odkUrl?`home/survey/odk/${this.surveyId}`:`home/survey/${this.surveyId}`)}showClaimsPage(){this.isAllSurveysAnswered?this.router.navigateByUrl("claims/list"):this.openClaimModal(this.content)}goToProfilePage(){this.router.navigateByUrl("home/profile")}onMySurveysClick(){"ssid"==this.isSidOrSSId&&this.isSidSsidValid&&this.router.navigateByUrl("my-surveys/list")}onHelpClick(){this.router.navigateByUrl("help")}ngOnDestroy(){this.timerSubscription&&this.timerSubscription.unsubscribe()}fetchProfileDetails(){let t=localStorage.getItem("personBluenumber");this.sharedService.startLoader(),this.dashboardService.getProfileDetails(t).subscribe(n=>{this.sharedService.stopLoader(),!n.isError&&n.result&&(this.loggedInUserDetails=n.result,localStorage.setItem("personMobileNumber",n.result.contact),n.result.completed?localStorage.setItem("isProfileCompleted",n.result.completed):localStorage.setItem("isProfileCompleted","false"))})}closePopup(){this.modalService.dismissAll()}openClaimModal(t){this.modalService.open(t,{size:"sm modal-dialog-centered",windowClass:"modal-dialog-border"})}onAddBankDetailsClick(){this.router.navigateByUrl("home/bank-details"),this.closePopup()}onAddUpiDetailsClick(){this.router.navigateByUrl("home/upi-details"),this.closePopup()}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{t&&(console.log("Latitude: "+t.coords.latitude+"Longitude: "+t.coords.longitude),this.latitude=t.coords.latitude,this.longitude=t.coords.longitude)},t=>{console.log(t)}):alert("Geolocation is not supported by this browser.")}keyUpEvent(t,n){let o=n;o=8===t.keyCode&&8===t.which?n-1:n+1,this.numberPattern.test(t.target.value)?o>-1&&o<this.formInput.length&&document.getElementById(o).focus():(t.target.value="",this.otpForm.reset())}verifyBlueNoIsQualifiedOrNot(){var t;let n={ContextId:localStorage.getItem("ssid"),blueNo:null===(t=this.loggedInUserDetails)||void 0===t?void 0:t.blueNumber};this.sharedService.startLoader(),this.dashboardService.isBlueNoQualified(n).pipe((0,b.x)(()=>this.sharedService.stopLoader())).subscribe(o=>{var s;o.isError?this.sharedService.showToastMesaages("error",null===(s=null==o?void 0:o.responseException)||void 0===s?void 0:s.exceptionMessage):this.navigateToSurveyPage()},o=>{var s,a;console.log(o),this.sharedService.showToastMesaages("error",null===(a=null===(s=null==o?void 0:o.error)||void 0===s?void 0:s.responseException)||void 0===a?void 0:a.exceptionMessage)})}generateOTPToUser(){var t;let n={context:"MMASmsCodeRequestCreation",contextId:localStorage.getItem("ssid"),phonenumbersorBluenumbers:[null===(t=this.loggedInUserDetails)||void 0===t?void 0:t.blueNumber]};this.sharedService.startLoader(),this.dashboardService.generateOTP(n).pipe((0,b.x)(()=>this.sharedService.stopLoader())).subscribe(o=>{var s;o.isError?(this.closeOTPPopup(),this.sharedService.showToastMesaages("error",null===(s=null==o?void 0:o.responseException)||void 0===s?void 0:s.exceptionMessage)):this.sharedService.showToastMesaages("success","OTP sent successfully")},o=>{var s,a;console.log(o),this.closeOTPPopup(),this.sharedService.showToastMesaages("error",null===(a=null===(s=null==o?void 0:o.error)||void 0===s?void 0:s.responseException)||void 0===a?void 0:a.exceptionMessage)})}showOTPPopup(t,n){this.generateOTPToUser(),this.selectedSurveyId=n?t:t.surveyId,this.openClaimModal(this.otpPopup)}onOTPConfirmClick(){this.otpForm.markAllAsTouched(),this.otpForm.valid?(this.isOtpInValid=!1,this.confirmOTP()):this.isOtpInValid=!0}confirmOTP(){var t;let n=this.otpForm.value,o={contextId:localStorage.getItem("ssid"),otp:n.input1+n.input2+n.input3+n.input4,otpVerified:!0,bluenumber:null===(t=this.loggedInUserDetails)||void 0===t?void 0:t.blueNumber};this.sharedService.startLoader(),this.dashboardService.verifyOTP(o).pipe((0,b.x)(()=>this.sharedService.stopLoader())).subscribe(s=>{s.isError?this.sharedService.showToastMesaages("error","Invalid OTP"):(this.router.navigateByUrl(this.currentSurveyDetails.odkUrl?`home/survey/odk/${this.selectedSurveyId}`:`home/survey/${this.selectedSurveyId}`),this.closeOTPPopup())},s=>{this.sharedService.showToastMesaages("error",s.error.responseException.exceptionMessage)})}closeOTPPopup(){this.modalService.dismissAll(),this.otpForm.reset()}openVideo(){window.open(this.languageSelected,"_blank")}onShareQRClick(){this.router.navigateByUrl("claims/qrinfo")}checkQRCodeDetails(){let t={QrCode:localStorage.getItem("sharedqrcode")};this.sharedService.startLoader(),this.claimsService.getSharedCodeDetails(t).pipe((0,b.x)(()=>this.sharedService.stopLoader())).subscribe(n=>{if(console.log(n),n.result){if(n.result.surveyCompletion)return void this.sharedService.showToastMesaages("error","This share code has already been used by another user.");this.checkFirstSurveyAnswered()}})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(f.gz),e.\u0275\u0275directiveInject(k.F),e.\u0275\u0275directiveInject($.U),e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(T.NM))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-dashboard-landing-page"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ge,5),e.\u0275\u0275viewQuery(ve,5),e.\u0275\u0275viewQuery(fe,5),e.\u0275\u0275viewQuery(_e,5),e.\u0275\u0275viewQuery(ye,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.content=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.locationPopup=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.otpPopup=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.qualifMsgPopup=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.bankPopup=o.first)}},decls:23,vars:5,consts:[[1,"pma"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","pt-3"],[1,"welcomet-text"],[1,"head-txt"],[1,"text-primary"],["class","pay-icon pt-3",4,"ngIf"],["class","p-3 mb-2",4,"ngIf"],["class","p-3  nav-cards pt-0",4,"ngIf"],["content",""],["locationPopup",""],["otpPopup",""],["qualifMsgPopup",""],["bankPopup",""],[1,"pay-icon","pt-3"],[1,"d-flex","flex-column",3,"click"],["src","../../../assets/media/profile-icon.svg","alt","","width","35px",1,"img-fluid","ms-4"],[1,""],[1,"d-flex","flex-column"],["src","../../../../../assets/media/MMlogo-svg.svg","alt","","width","52px",1,"img-fluid"],[1,"p-3","mb-2"],[1,"row"],[1,"col-md-12","text-center","pma-buttons"],["class","d-grid justify-content-center align-items-center flex-column",4,"ngIf"],[4,"ngIf"],[1,"d-grid","justify-content-center","align-items-center","flex-column"],["class","mouse-pointer ml-auto d-flex align-items-center text-center myr-icon-survey","style","margin-left: 0 !important;",3,"ngClass","click",4,"ngIf"],[1,"mouse-pointer","ml-auto","d-flex","align-items-center","text-center","myr-icon-survey",2,"margin-left","0 !important",3,"ngClass","click"],[1,"text-wrap","w-100","text-truncate"],["class","start-survey-fs",4,"ngIf"],[1,"start-survey-fs"],["class","pma-heading text-gray-1 mb-2",4,"ngIf"],[1,"pma-heading","text-gray-1","mb-2"],[1,"btn","btn-mm-p","btn-block","w-100","orange-but","mouse-notallowed","btn-mm-p-disabled",3,"click"],["src","../../../../../assets/media/MMlogo-svg.svg","alt","","width","140px",1,"img-fluid"],["class","new-survey-msg",4,"ngIf"],["class","text-gray-1 mb-2",4,"ngIf"],["class","btn btn-mm-p btn-block w-100",3,"ngClass","click",4,"ngIf"],["class","btn btn-mm-p btn-block w-100  orange-but",3,"ngClass","click",4,"ngIf"],["class","message-workcondition",4,"ngIf"],["class","confir-des",4,"ngIf"],["class","confir-des fs-5","style","line-height: 25px",4,"ngIf"],[1,"message-workcondition"],[1,"confir-des"],[1,"confir-des","fs-5",2,"line-height","25px"],[1,"new-survey-msg"],[1,"text-gray-1","mb-2"],[1,"time-counter"],[1,"btn","btn-mm-p","btn-block","w-100",3,"ngClass","click"],[1,"btn","btn-mm-p","btn-block","w-100","orange-but",3,"ngClass","click"],[1,"pconfir-des"],["class","pconfir-des",4,"ngIf"],["class","btn btn-mm-p btn-block w-100 mb-2",3,"ngClass","click",4,"ngIf"],[1,"btn","btn-mm-p","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"p-3","nav-cards","pt-0"],["class","col-6",3,"ngClass",4,"ngIf"],["class","col-6",4,"ngIf"],["class","col-6  q-mt-20",4,"ngIf"],["class","q-mt-20",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","d-grid justify-content-center mt-3 flex-column",4,"ngIf"],[1,"col-6",3,"ngClass"],[1,"mm-card",3,"click"],["src","../../../../../assets/media/flag-logo-icon.svg","alt","",1,"img-fluid"],[1,"col-6"],["src","../../../../../assets/media/faq-icon.svg","alt","",1,"img-fluid"],[1,"col-6","q-mt-20"],[1,"mm-card","q-bg-color",3,"click"],["src","../../../assets/media/profile-img.svg","alt","",1,"img-fluid"],["src","../../../../../assets/media/help-icon.svg","alt","",1,"img-fluid"],[1,"q-mt-20"],[1,"btn","btn-mm-p","btn-block","w-100","mouse-pointer",3,"click"],[1,"mt-4"],[1,"myr-des"],[1,"identif-des"],[1,"d-grid","justify-content-center","mt-3","flex-column"],[1,"mouse-pointer","ml-auto","text-center",2,"margin-left","0 !important",3,"ngClass","click"],[1,"mt-3","text-wrap","text-truncate"],["class","text-center mt-3 ",4,"ngIf"],[1,"text-center","mt-3"],[1,"payment-des-icon","mouse-pointer",3,"click"],[1,"modal-header","mr-2","mt-0","ml-4","border-bottom-0"],["id","modal-basic-title",1,"modal-title"],["aria-label","Close",3,"click"],["type","button","aria-label","Close",1,"btn-close","shadow-none"],[1,"modal-body","pt-0","mt-0"],[1,"pb-0","pr-4","pl-4","pt-0"],[1,"row","mb-5"],[1,"mb-3"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],[1,"text-center"],[2,"color","#0A4797"],[1,"text-center","pma-buttons","pb-4"],[1,"pma-buttons","bottom-position","text-center"],[1,"btn","btn-lg","btn-block",2,"background","#AD0C62","color","white",3,"click"],[1,"d-flex","justify-content-center"],[1,"mouse-pointer","myr-icon-my"],[1,"mt-3"],["class","text-center mt-3",4,"ngIf"],[1,"row","mb-5","q-mx-5"],[1,"modal-title"],[1,"modal-body","pt-0"],[1,"msg-t","mb-2"],[1,"msg-t","mb-3"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-center","mb-3"],["class","form-group px-3 mb-0 pb-0",4,"ngFor","ngForOf"],["class","pb-3 ps-2 error-text text-danger",4,"ngIf"],["type","submit",1,"btn","btn-mm-p","otp-btn","mt-3","mx-0"],[1,"form-group","px-3","mb-0","pb-0"],["type","text","maxlength","1",1,"form-control","text-center",3,"id","formControlName","keyup"],["formRow",""],[1,"pb-3","ps-2","error-text","text-danger"],[1,"popup-succes-req"],[1,"btn","btn-sm","okay-btn-succ",2,"background","#AD0C62","color","white",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5," MillionMakers\u2122"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",5),e.\u0275\u0275text(7," by Bluenumber\xae"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,be,5,0,"div",6),e.\u0275\u0275template(9,Ce,3,0,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Ee,5,2,"section",7),e.\u0275\u0275template(11,st,7,3,"section",7),e.\u0275\u0275template(12,ft,10,8,"section",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,bt,24,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(15,Ct,13,0,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(17,Mt,16,4,"ng-template",null,11,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(19,Ot,15,0,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(21,Pt,14,0,"ng-template",null,13,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",n.surveyType!=n.globalConstants.verify&&n.surveyType!=n.globalConstants.feedback&&"ssid"!=n.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"==n.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"==n.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=n.isSidOrSSId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.surveyType!=n.globalConstants.verify))},directives:[h.O5,h.mk,c._Y,c.JL,c.sg,h.sg,c.Fj,c.nD,c.JJ,c.u],styles:[".mouse-notallowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.pma[_ngcontent-%COMP%]{background-color:#fff!important;height:100vh!important}.pma[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;color:#545454;font-size:24px}.pma[_ngcontent-%COMP%]   .pma-heading[_ngcontent-%COMP%]{font-size:25px;line-height:30px;font-weight:500}.pma[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#545454}.pma[_ngcontent-%COMP%]   .pay-icon[_ngcontent-%COMP%]{display:flex;justify-content:end}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]{background-color:#0a4797;font-size:12px;cursor:pointer;border-radius:10px;color:#fff}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .orange-but[_ngcontent-%COMP%]{background-color:#ea600e;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 30px!important}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .orange-but[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-disabled[_ngcontent-%COMP%]{background-color:#c4c4c4;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-disabled[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]{background-color:#f8f8f8;font-size:16px;cursor:pointer;font-weight:500}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-space[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .message-workcondition[_ngcontent-%COMP%]{color:#ad0c62!important;font-weight:500;font-size:18px;line-height:22px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .new-survey-msg[_ngcontent-%COMP%]{color:#ad0c62!important;font-weight:500;font-size:25px;line-height:30px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .confir-des[_ngcontent-%COMP%]{color:#545454;font-weight:500;font-size:15px;line-height:18px;text-align:center}.pma[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:60px}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .myr-des[_ngcontent-%COMP%]{color:#545454;font-weight:500;font-size:15px;line-height:18px;text-align:center}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .identif-des[_ngcontent-%COMP%]{color:#ad0c62!important;font-weight:500;font-size:15px;line-height:18px;text-align:center}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]{background-color:#ad0c62;padding:30px 30px 19px;border-radius:15px;cursor:pointer;text-align:center}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-bottom:10px}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;color:#fff;margin-bottom:0;padding-bottom:0;font-weight:500}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]:hover, .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]{background-color:#fff!important}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#545454!important}.p-success[_ngcontent-%COMP%]{height:auto;width:120px!important;display:inline-block}.myr-icon[_ngcontent-%COMP%]{background-color:#d9d9d9!important;border-radius:67px!important;width:110px;height:110px;margin-left:103px}.myr-icon[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#8a8a8a}.myr-icon[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8a8a8a;font-weight:500;font-size:20px;line-height:24px;text-align:center}.myr-icon[_ngcontent-%COMP%]   .start-survey-fs[_ngcontent-%COMP%]{font-size:24px!important}.myr-icon-my[_ngcontent-%COMP%]{background-color:#d9d9d9!important;border-radius:67px!important;width:110px;height:110px}.myr-icon-my[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#8a8a8a}.myr-icon-my[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#8a8a8a;font-weight:500;font-size:20px;line-height:24px;text-align:center}.modal-dialog-border[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:20px}.time-counter[_ngcontent-%COMP%]{color:#ad0c62}.myr-icon-survey[_ngcontent-%COMP%]{border-radius:100px!important;width:150px!important;height:150px!important}.below-icon-text[_ngcontent-%COMP%]{color:#0a4797;font-family:Lato;font-style:normal;font-weight:400;font-size:12px;line-height:14px;text-align:center}.btn-opacity[_ngcontent-%COMP%]{opacity:.5}.payment-des-icon[_ngcontent-%COMP%]{font-weight:400;font-size:13px;line-height:14px;text-align:center;color:#0a4797}.payment-succ-des[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center;color:#ad0c62}.payment-des[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center;color:#000}.cont-cent[_ngcontent-%COMP%]{margin-top:70px}.myr-icon-green[_ngcontent-%COMP%]{background-color:#0cad26!important;border-radius:67px;width:110px;height:110px;margin-left:103px;box-shadow:4px 4px 4px #0000001a}.myr-icon-green[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;font-size:50px;line-height:33px;text-align:center;color:#f3f2f2}.myr-icon-green[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#f3f2f2;font-weight:500;font-size:20px;line-height:24px;text-align:center}.myr-icon-green[_ngcontent-%COMP%]   .start-survey-fs[_ngcontent-%COMP%]{font-size:24px!important}.verify[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:15px;line-height:18px;text-align:center;color:#545454}.verify[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important}.verify[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.successs[_ngcontent-%COMP%]   .big-font[_ngcontent-%COMP%]{font-size:40px!important;font-weight:500;color:#545454!important}.successs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;color:#545454}.q-mx-5[_ngcontent-%COMP%]{margin:0 5px}.q-bg-color[_ngcontent-%COMP%]{background-color:#0a4797!important}.q-mt-20[_ngcontent-%COMP%]{margin-top:20px}.btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62!important;font-size:16px;cursor:pointer;border-radius:10px;color:#fff!important;font-weight:500;padding:10px 104px!important;width:100%}.btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.msg-t[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;font-weight:300;line-height:19px;letter-spacing:0em;text-align:center;color:#545454}.msg-t[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:.1px solid #545454;border-radius:0;color:#545454!important}.msg-t[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;background-color:#fff!important}.msg-t[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:12px}.otp-btn[_ngcontent-%COMP%]{padding:10px 70px!important}.welcomet-text[_ngcontent-%COMP%]{color:#8a8a8a;font-size:20px}.head-txt[_ngcontent-%COMP%]{color:#ad0c62;font-weight:600}.iframe-content[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:15px}.m-t-10[_ngcontent-%COMP%]{margin-top:10px}.popup-succes-req[_ngcontent-%COMP%]{color:#ad0c62;font-weight:500;font-size:19px;line-height:23px;text-align:center}.okay-btn-succ[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;margin:0 auto;width:160px!important;padding:15px 10px!important;line-height:19px}"]}),i})(),wt=(()=>{class i{constructor(t){this.route=t}ngOnInit(){this.route.queryParamMap.subscribe(t=>{t.params.ssid&&localStorage.setItem("ssid",t.params.ssid),t.params.app&&localStorage.setItem("app",t.params.app),t.params.connid&&localStorage.setItem("connid",t.params.connid),t.params.sid&&localStorage.setItem("sid",t.params.sid),t.params.type&&localStorage.setItem("surveyType",t.params.type),t.params.qid&&localStorage.setItem("qid",t.params.qid),t.params.sharedqrcode&&localStorage.setItem("sharedqrcode",t.params.sharedqrcode),t.params.claim&&localStorage.setItem("claim",t.params.claim)})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-dashboard-layout"]],decls:1,vars:0,template:function(t,n){1&t&&e.\u0275\u0275element(0,"router-outlet")},directives:[f.lC],styles:[""]}),i})(),kt=(()=>{class i{constructor(t,n){this.router=t,this.sharedService=n,this.languageName=""}ngOnInit(){const t=this.getDefaultSelectedLanguage(),n=this.getLanguageName(t||"en");this.checkForLanguageDisplay(),setTimeout(()=>{const o=document.querySelector("select.goog-te-combo"),s=document.getElementById("language-name");s&&(s.innerHTML=n),o&&o.addEventListener("change",a=>{const l=a.target.value;console.log("Language changed:",l),s&&(s.innerHTML=this.getLanguageName(l))})},3e3)}onNextClick(){this.sharedService.isLanguageChanged=!0,localStorage.getItem("app"),this.router.navigateByUrl("help/rules")}checkForLanguageDisplay(){this.router.url.includes("language")?document.getElementById("language-script")||this.loadExternalScript("https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"):this.removeElement()}loadExternalScript(t){const n=document.body,o=document.createElement("script");o.innerHTML="",o.id="language-script",o.src=t,o.async=!0,o.defer=!0,n.appendChild(o)}removeElement(){var t=document.getElementById("language-script");t&&t.remove()}ngOnDestroy(){this.removeElement()}getDefaultSelectedLanguage(){const t=document.cookie.split("; ").find(n=>n.startsWith("googtrans"));if(t){const n=t.split("/");return n[n.length-1]}return null}getLanguageName(t){return{af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",rw:"Kinyarwanda",ko:"Korean",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",or:"Odia (Oriya)",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"}[t]||"Unknown"}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(O.F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-language"]],decls:22,vars:0,consts:[[1,"pdv-manager","lang-enable"],[1,"container","language"],[1,"row","pb-0","px-4"],[1,"col-md-12"],[1,"mb-3"],["id","language-name"],[1,"muted-text","mb-4"],["id","google_translate_element"],[1,"container","bottom-fixed"],[1,"row"],[1,"col-12"],[1,"row","px-4"],[1,"col-12","pma-buttons"],[1,"btn","btn-mm-p-lan","btn-block",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),e.\u0275\u0275text(5,"The language is now:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"h1",4),e.\u0275\u0275element(7,"span",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"p",6),e.\u0275\u0275text(9," To CHANGE language "),e.\u0275\u0275element(10,"br"),e.\u0275\u0275text(11," please select another (below) "),e.\u0275\u0275element(12,"br"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(13,"div",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",8)(15,"div",9)(16,"div",10)(17,"div")(18,"div",11)(19,"div",12)(20,"button",13),e.\u0275\u0275listener("click",function(){return n.onNextClick()}),e.\u0275\u0275text(21,"Next"),e.\u0275\u0275elementEnd()()()()()()()())},styles:[".pdv-manager[_ngcontent-%COMP%]{z-index:999999999999;position:fixed;background-color:#fff;inset:0}.muted-text[_ngcontent-%COMP%]{color:#545454}.language[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:20px;color:red;font-weight:500;line-height:24px}.language[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:red;font-size:36px;font-weight:600;line-height:43px}.language[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#545454;line-height:19px}.pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-lan[_ngcontent-%COMP%]{background-color:#621c43;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:10px 104px!important;width:100%}.pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-lan[_ngcontent-%COMP%]:hover{opacity:.9}.bottom-fixed[_ngcontent-%COMP%]{position:fixed!important;left:0;right:0;bottom:30px}.bottom-fixed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#545454;font-size:14px;font-weight:400}.container.language[_ngcontent-%COMP%]{position:absolute;top:38px}.f-16[_ngcontent-%COMP%]{font-size:16px!important}"]}),i})();var Y=m(727);const Dt=["content"];function Et(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",18),e.\u0275\u0275elementStart(2,"h2",19),e.\u0275\u0275text(3," Success!"),e.\u0275\u0275elementEnd()())}function Tt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20)(1,"h5",21),e.\u0275\u0275text(2),e.\u0275\u0275element(3,"br"),e.\u0275\u0275text(4," Next survey available in: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"span",22),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==t.messageObj?null:t.messageObj.message,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",t.timeCounter,"")}}function At(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h1",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.messageObj?null:t.messageObj.message," ")}}function Lt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"button",29),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onBackClick()}),e.\u0275\u0275text(2,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",30),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onDoneClick()}),e.\u0275\u0275text(4,"Proceed"),e.\u0275\u0275elementEnd()()}}function Bt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"button",32),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onAcceptClick()}),e.\u0275\u0275text(2,"Agree & Connect"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",33),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onRejectClick()}),e.\u0275\u0275text(4,"Reject"),e.\u0275\u0275elementEnd()()}}function Rt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",34)(1,"button",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(3).onBackClick()}),e.\u0275\u0275text(2," Go to Home page "),e.\u0275\u0275elementEnd()()}}function Ft(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,Lt,5,0,"div",25),e.\u0275\u0275template(2,Bt,5,0,"div",26),e.\u0275\u0275template(3,Rt,3,0,"div",27),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.messageObj?null:t.messageObj.showProceed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.messageObj?null:t.messageObj.showAcceptReject),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(null!=t.messageObj&&t.messageObj.showAcceptReject||null!=t.messageObj&&t.messageObj.showProceed))}}function Vt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",4)(1,"form",5)(2,"div",6)(3,"span",7),e.\u0275\u0275text(4,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13),e.\u0275\u0275template(11,Et,4,0,"div",14),e.\u0275\u0275template(12,Tt,8,2,"div",15),e.\u0275\u0275template(13,At,2,1,"h1",16),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(14,Ft,4,3,"div",17),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",!(null!=t.messageObj&&t.messageObj.showAcceptReject||null!=t.messageObj&&t.messageObj.showProceed||null!=t.messageObj&&t.messageObj.isMsgFromInterceptor)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",4==t.surveyState&&t.isFutureDaySurvey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.messageObj?null:t.messageObj.showProceed)&&!(null!=t.messageObj&&t.messageObj.showAcceptReject)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","verify"!=t.surveyType)}}function Nt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"p",40),e.\u0275\u0275text(5,"You have completed "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," your Registration! "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"p",41),e.\u0275\u0275text(9,"You can claim your payment by clicking $ on the "),e.\u0275\u0275element(10,"br"),e.\u0275\u0275text(11," home page."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",42),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goToHomePage()}),e.\u0275\u0275text(13,"Okay"),e.\u0275\u0275elementEnd()()()()()}}function jt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",40),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.messageObj?null:t.messageObj.message," ")}}function qt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",40),e.\u0275\u0275text(1,"You have requested to "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," participate in anonymous paid "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," surveys about your working "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," conditions."),e.\u0275\u0275elementEnd())}function Qt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",41),e.\u0275\u0275text(1,"If you qualify, once you click start "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," Survey on the home page, you will receive "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," a 4-digit code via SMS to "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," access the Million Makers survey "),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementEnd())}function Gt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",43)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",44),e.\u0275\u0275template(5,jt,2,1,"p",45),e.\u0275\u0275template(6,qt,8,0,"p",45),e.\u0275\u0275template(7,Qt,9,0,"p",46),e.\u0275\u0275elementStart(8,"button",42),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goToHomePage()}),e.\u0275\u0275text(9,"Go to Home page"),e.\u0275\u0275elementEnd()()()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf","ssid"==(null==t.messageObj?null:t.messageObj.isSSID)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=(null==t.messageObj?null:t.messageObj.isSSID)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=(null==t.messageObj?null:t.messageObj.isSSID))}}function zt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",40),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t.messageObj?null:t.messageObj.message," ")}}function Ut(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",40),e.\u0275\u0275text(1,"You have requested to "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," participate in anonymous paid "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," surveys about your working "),e.\u0275\u0275element(6,"br"),e.\u0275\u0275text(7," conditions."),e.\u0275\u0275elementEnd())}function Ht(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",41),e.\u0275\u0275text(1,"If you qualify you will receive an "),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3," SMS within 72 hours. It will contain a link "),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5," so you can start the surveys."),e.\u0275\u0275elementEnd())}function $t(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",53)(1,"div",37)(2,"div",38)(3,"div",39),e.\u0275\u0275template(4,zt,2,1,"p",45),e.\u0275\u0275template(5,Ut,8,0,"p",45),e.\u0275\u0275template(6,Ht,6,0,"p",46),e.\u0275\u0275elementStart(7,"button",42),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).goToHomePage()}),e.\u0275\u0275text(8,"Okay"),e.\u0275\u0275elementEnd()()()()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","ssid"==(null==t.messageObj?null:t.messageObj.isSSID)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=(null==t.messageObj?null:t.messageObj.isSSID)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ssid"!=(null==t.messageObj?null:t.messageObj.isSSID))}}function Yt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",47)(1,"h3",48),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",49),e.\u0275\u0275template(4,$t,9,3,"div",50),e.\u0275\u0275elementStart(5,"div",51)(6,"div",34)(7,"button",52),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onOKay()}),e.\u0275\u0275text(8," Okay "),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","workerRequestSID"==t.surveyMsgType)}}let Kt=(()=>{class i{constructor(t,n,o,s,a,l){this.sharedService=t,this.router=n,this.dashboardService=o,this.surveyService=s,this.modalService=a,this.isAnswerNextSurvey=!1,this.surveyMsgType="",this.nextSurveyTimeLeft="",this.isFirstSurveyAnswerd=!1,this.isSidSsidValid=!0,this.surveyDetails={},this.nextSurveyDetails={},this.surveyId="",this.isAllSurveysAnswered=!1,this.lastSurveyId="",this.firstSurveyId="",this.currentSurveyDay=1,this.maxResponseCount=0,this.isFutureDaySurvey=!1,this.surveyType="",this.claimType="",this.subs=new Y.w0,l.backdrop="static",l.keyboard=!1}ngOnInit(){let t=localStorage.getItem("personBluenumber");this.surveyMsgs=JSON.parse(localStorage.getItem("surveyMessages"));let n=localStorage.getItem("app");this.surveyType=localStorage.getItem("surveyType"),this.claimType=localStorage.getItem("claim");let o=localStorage.getItem("sid"),s=localStorage.getItem("ssid"),a="";if(""!=o&&"null"!=o&&null!=o&&(a="sid"),""!=s&&"null"!=s&&null!=s&&(a="ssid"),console.log(this.sharedService.successErrorMsg),this.messageObj=this.sharedService.successErrorMsg,this.surveyType!=C.Z.feedback||""==this.sharedService.successErrorMsg.message)if(this.surveyType!=C.Z.shareQrCode&&""!=this.surveyType||this.claimType!=C.Z.eachSurvey){if("mmind"==n)return this.surveyMsgType="farmerRegistration",void this.router.navigateByUrl("claims/list");if("request"==this.surveyType&&"sid"==a)return this.surveyMsgType="workerRequestSID",void(this.messageObj.isSSID=a);if(this.sharedService.successErrorMsg.isRequestSurvey)return this.surveyMsgType="workerRequestSID",this.messageObj.message=this.surveyMsgs.qualificationMessage,void(this.messageObj.isSSID=a);this.surveyMsgType="surveySSID","AlreadyAnswered"==this.sharedService.successErrorMsg.message?this.messageObj.message="To answer this survey you must connect to Million Makers"+t:"Expired"==this.sharedService.successErrorMsg.message?this.messageObj.message="The survey you are going to answer is already expired":"ReachedMaxParticipants"==this.sharedService.successErrorMsg.message?this.messageObj.message="Reached max number of participants.":"NotFound"==this.sharedService.successErrorMsg.message?this.messageObj.message="Survey not found":"AnswerNextSurvey"==this.sharedService.successErrorMsg.message?(this.isAnswerNextSurvey=!0,this.messageObj.message="Thank you for Registration. Please continue..."):this.messageObj.message=this.sharedService.successErrorMsg.message,"Survey Set Completed"!=this.sharedService.successErrorMsg.messageHeading?"workerRequestSID"==this.surveyMsgType&&(console.log("workerRequestSID"),this.messageObj.message=this.surveyMsgs.qualificationMessage,this.modalService.open(this.content,{size:"sm modal-dialog-centered",windowClass:"modal-dialog-border"})):this.router.navigateByUrl("claims/list")}else this.router.navigateByUrl("claims/list");else this.router.navigateByUrl("claims/list")}onOKay(){this.modalService.dismissAll()}ngOnDestroy(){this.subs.unsubscribe()}fetchSurveyInfo(){if(this.msg="",this.isFirstSurveyAnswerd=!1,this.sharedService.startLoader(),""!=localStorage.getItem("sid")&&null!=localStorage.getItem("sid")&&"null"!=localStorage.getItem("sid"))this.fetchSurveySIDDetails();else{if(null==localStorage.getItem("ssid")||"null"==localStorage.getItem("ssid"))return this.surveyState=5,this.msg="Please scan the QR code again.",void(this.isSidSsidValid=!1);this.fetchSurveySetSSIDDetails()}}fetchSurveySIDDetails(){this.surveyService.getSurveyDetailsbyQRCode(localStorage.getItem("sid")).subscribe(t=>{this.surveyDetails=t.result,this.surveyId=t.result.id;let n=new Date;n.setHours(0,0,0,0);let o=new Date(this.surveyDetails.endDate);if(o=new Date(o.getTime()+6e4*o.getTimezoneOffset()),console.log("DATE: ",o),o-n<0)return this.surveyState=2,void(this.msg="Survey program ended. We will notify when next program available.");let a=new Date(this.surveyDetails.endDate);a=new Date(a.getTime()+6e4*a.getTimezoneOffset()),a.setHours(0,0,0,0);let l=a-n;0==l?(this.surveyState=3,this.msg="Please complete your survey for today"):l>0&&(this.surveyState=4,this.showCounter(this.surveyDetails.startDate))},t=>(this.fetchSurveyAmountDetails(),"AlreadyAnswered"==t.error.responseException.exceptionMessage.substring(0,15)?(this.surveyState=5,this.msg="Survey already answered.",this.isAllSurveysAnswered=!0,void this.router.navigateByUrl("/home")):t.error.responseException.exceptionMessage.includes("ReachedMaxParticipants")?(this.surveyState=6,this.msg="Survey reached maximum no. of participants.",this.isAllSurveysAnswered=!1,void this.router.navigateByUrl("/home")):(this.surveyState=5,this.msg="Survey not found. Please scan the QR code again.",this.isAllSurveysAnswered=!1,this.isSidSsidValid=!1,void this.router.navigateByUrl("/home"))))}fetchSurveyAmountDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyDetailsResponseForAnsweredQRCode(localStorage.getItem("sid")).subscribe(t=>{this.sharedService.stopLoader(),t.isError||(this.surveyDetails=t.result)})}showCounter(t){this.timerSubscription=(0,y.F)(1e3).subscribe(n=>{let o,s,a=0,l=0,d=0,u=0;o=new Date,s=new Date(t),s.setHours(0,0,0,0);let p=s-o;p<=0&&this.clearCounter(),a=Math.floor(p/864e5),l=Math.floor(p%864e5/36e5)+24*a,d=Math.floor(p%36e5/6e4),u=Math.floor(p%6e4/1e3),this.timeCounter=l+"hrs "+d+"min "+u+"secs"})}clearCounter(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.surveyState=3,this.msg="Please complete your survey for today"}fetchSurveySetSSIDDetails(){this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).subscribe(t=>{if(this.sharedService.stopLoader(),this.surveyDetails=t.result,localStorage.setItem("surveySetId",this.surveyDetails.id),null==this.surveyDetails||this.surveyDetails.surveyGroupItems.length<=0)return this.surveyState=1,void(this.msg="Surveys are not available");let n=0;if(this.surveyDetails.surveyGroupItems.forEach(d=>{this.surveyDetails.currency=d.currency,this.surveyDetails.paymentOffered=d.paymentOffered,d.isAnswered&&n++}),n==this.surveyDetails.surveyGroupItems.length&&0!=n)return void(this.isAllSurveysAnswered=!0);this.isAllSurveysAnswered=!1;let o=new Date;o.setHours(0,0,0,0);let s=new Date(this.surveyDetails.endDate);s=new Date(s.getTime()+6e4*s.getTimezoneOffset()),console.log("DATE: ",s);let a=s-o;if(console.log(a),a<0)return this.surveyState=2,this.msg="Survey program ended. We will notify when next program available.",void(this.sharedService.successErrorMsg.message="Thanks for completing the survey set.");if(0==a&&1==this.surveyDetails.surveyGroupItems[this.surveyDetails.surveyGroupItems.length-1].isAnswered)return this.surveyState=2,void(this.msg="Survey program ended. We will notify when next program available.");this.sortSuveys();let l=this.surveyDetails.surveyGroupItems.length;if(l>0&&(this.lastSurveyId=this.surveyDetails.surveyGroupItems[l-1].surveyId),this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId,"Hourly"!=this.surveyDetails.type)this.dailySurveySSIDDetails(o);else{let d=new Date;d=new Date(d.getTime()+6e4*d.getTimezoneOffset());let u=new Date(this.surveyDetails.startDate);u=new Date(u.getTime()+6e4*u.getTimezoneOffset());let p=new Date(this.surveyDetails.endDate);p=new Date(p.getTime()+6e4*p.getTimezoneOffset());let v=new Date(this.surveyDetails.surveyGroupItems[0].startDate);v=new Date(v.getTime()+6e4*v.getTimezoneOffset()),v.setHours(0,0,0,0),v-o>0&&(this.isFutureDaySurvey=!0),this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered,this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId,this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered;for(let M=0;M<this.surveyDetails.surveyGroupItems.length;M++){let S=this.surveyDetails.surveyGroupItems[M];if(this.currentSurveyDay=M+1,!S.isAnswered){let L=u-d;if(this.surveyId=S.surveyId,0==L){this.surveyState=3,this.msg="Please complete your survey for today";break}if(p-d>=0){let Q,I,G,F=this.surveyDetails.minutesDifference;if(Q=this.surveyDetails.surveyGroupItems[M-1],Q&&Q.answeredTime){I=new Date(Q.answeredTime),I=new Date(I.getTime()+6e4*I.getTimezoneOffset()),G=new Date(I.getTime()+60*Number(F)*1e3);let q=G-d;if(q<=0)this.surveyState=3,this.msg="Please complete your survey for today";else if(q>0){this.surveyState=4,this.showHourlySurveyCounter(G);break}}else this.surveyState=3,this.msg="Please complete your survey for today",this.nextSurveyDetails=S;break}return}this.nextSurveyDetails=this.surveyDetails.surveyGroupItems[M+1]}}},t=>"Survey is not found for QR:null"==t.error.responseException.exceptionMessage?(this.surveyState=5,this.msg="Please scan the QR code again.",this.isSidSsidValid=!1,void this.router.navigateByUrl("/home")):(this.surveyState=5,this.msg="Survey not found. Please scan the QR code again.",this.isSidSsidValid=!1,void this.router.navigateByUrl("/home")))}sortSuveys(){return this.surveyDetails.surveyGroupItems.sort((t,n)=>new Date(t.startDate)-new Date(n.startDate))}dailySurveySSIDDetails(t){this.surveyDetails.surveyGroupItems.forEach((o,s)=>{let a=new Date,l=new Date(o.startDate);if(l=new Date(l.getTime()+6e4*l.getTimezoneOffset()),a.getDate()==l.getDate()&&a.getMonth()==l.getMonth()&&a.getFullYear()==l.getFullYear())if(s<=2&&this.getTotalSurveyResponseCount(),this.currentSurveyDay=s+1,o.isAnswered){if(this.surveyDetails.surveyGroupItems[s+1]){let d=new Date(this.surveyDetails.surveyGroupItems[s+1].startDate);d=new Date(d.getTime()+6e4*d.getTimezoneOffset()),a.getDate()<d.getDate()&&!this.surveyDetails.surveyGroupItems[s+1].isAnswered&&(this.nextSurveyDetails=this.surveyDetails.surveyGroupItems[s+1])}}else this.nextSurveyDetails=o});let n=new Date(this.surveyDetails.surveyGroupItems[0].startDate);n=new Date(n.getTime()+6e4*n.getTimezoneOffset()),n.setHours(0,0,0,0),n-t>0&&(this.isFutureDaySurvey=!0),this.isFirstSurveyAnswerd=this.surveyDetails.surveyGroupItems[0].isAnswered,this.firstSurveyId=this.surveyDetails.surveyGroupItems[0].surveyId;for(let o=0;o<this.surveyDetails.surveyGroupItems.length;o++){let s=this.surveyDetails.surveyGroupItems[o];if(0==s.isAnswered){let a=new Date(s.startDate);a=new Date(a.getTime()+6e4*a.getTimezoneOffset()),a.setHours(0,0,0,0);let l=a-t;if(0==l){this.surveyState=3,this.msg="Please complete your survey for today";break}if(l>0){this.surveyState=4,this.showCounter(s.startDate);break}}}}getTotalSurveyResponseCount(){this.firstSurveyId&&this.surveyService.getSurveyResponseCount(localStorage.getItem("ssid"),this.firstSurveyId).subscribe(t=>{console.log(t),t.isError||(this.maxResponseCount=t.result)})}showHourlySurveyCounter(t){this.timerSubscription=(0,y.F)(1e3).subscribe(n=>{let o,s=0,a=0,l=0,d=0;o=new Date;let u=new Date;u=new Date(u.getTime()+6e4*u.getTimezoneOffset());let p=t-u;p<=0&&this.clearCounter(),s=Math.floor(p/864e5),a=Math.floor(p%864e5/36e5)+24*s,l=Math.floor(p%36e5/6e4),d=Math.floor(p%6e4/1e3),this.timeCounter=a+"hrs "+l+"min "+d+"secs",this.sharedService.remainingTimeForSurvey.next(this.timeCounter)})}onBackClick(){this.router.navigateByUrl(this.isAnswerNextSurvey&&this.messageObj.nextSurveyId&&""!=this.messageObj.nextSurveyId?`/home/survey/${this.messageObj.nextSurveyId}`:"/home/info")}onDoneClick(){this.router.navigateByUrl(""!=this.messageObj.firstSurveyId?`/home/survey/${this.messageObj.firstSurveyId}`:""!=this.messageObj.nextSurveyId?`/home/survey/${this.messageObj.nextSurveyId}`:"/home/info")}onAcceptClick(){let t={code:this.messageObj.connectionCode,bluenumber:localStorage.getItem("personBluenumber")};this.sharedService.startLoader(),this.dashboardService.setConnectionRequestDetailsByCode(t).subscribe(n=>{this.sharedService.stopLoader(),console.log(n.result),n.isError||this.router.navigateByUrl("/home/user-agreement")})}onRejectClick(){w.g.signOut()}goToHomePage(){this.router.navigateByUrl("home/info")}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(k.F),e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(T.NM))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-messages"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Dt,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.content=o.first)}},decls:5,vars:3,consts:[["class","pop-up-message",4,"ngIf"],["class","pma",4,"ngIf"],["class","pma align-items-center d-flex align-self-center h-100vh mx-3",4,"ngIf"],["content",""],[1,"pop-up-message"],["autocomplete","off",1,"pma-modal","pma"],[1,"modal-header","header-custom","border-bottom-0"],[1,"modal-title-save","pl-3","pl-md-2"],[1,"modal-body","modal-body-space","pb-0"],[1,"form-group","mb-0"],[1,"col-12","pl-0","pr-0","text-center"],[1,"row","form-group","mt-5","d-flex","justify-content-center"],[1,"text-center","cont-height"],[1,"text-center"],[4,"ngIf"],["class","succes-mess  text-center px-5",4,"ngIf"],["class","pma-heading text-gray-1 mb-2",4,"ngIf"],["class","modal-footer footer-custom pb-5 pt-0 border-top-0 justify-content-center",4,"ngIf"],["src","../../../assets/media/success-logo.svg","alt","",1,"img-fluid","p-success"],[1,"big-font","pb-4"],[1,"succes-mess","text-center","px-5"],[1,"f-20"],[1,"time-counter"],[1,"pma-heading","text-gray-1","mb-2"],[1,"modal-footer","footer-custom","pb-5","pt-0","border-top-0","justify-content-center"],["class","pma-buttons",4,"ngIf"],["class","pma-buttons text-center",4,"ngIf"],["class","pma-buttons bottom-position text-center",4,"ngIf"],[1,"pma-buttons"],["type","button",1,"btn","btn-l","btn-md","mb-3","btn-block",3,"click"],["type","button",1,"btn","btn-mm-p","btn-md","btn-block",3,"click"],[1,"pma-buttons","text-center"],["type","button",1,"btn","btn-p-agr","btn-md","btn-block",3,"click"],["type","button",1,"btn","btn-l-reje","btn-md","btn-block",3,"click"],[1,"pma-buttons","bottom-position","text-center"],[1,"btn","btn-mm-p","btn-lg","btn-block",3,"click"],[1,"pma"],[1,"container"],[1,"row"],[1,"col-12","text-center"],[1,"popup-succes-req"],[1,"sms-des"],[1,"btn","btn-sm","okay-btn-succ","mb-3",3,"click"],[1,"pma","align-items-center","d-flex","align-self-center","h-100vh","mx-3"],[1,"card","px-4","py-5","card-shadow"],["class","popup-succes-req",4,"ngIf"],["class","sms-des",4,"ngIf"],[1,"modal-header","mr-2","mt-0","ml-4","border-bottom-0"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","pt-0","mt-0"],["class","pma align-items-center d-flex align-self-center h-100vh",4,"ngIf"],[1,"text-center","pma-buttons","pb-4"],[1,"btn","btn-lg","btn-block",2,"background","#AD0C62","color","white",3,"click"],[1,"pma","align-items-center","d-flex","align-self-center","h-100vh"]],template:function(t,n){1&t&&(e.\u0275\u0275template(0,Vt,15,4,"div",0),e.\u0275\u0275template(1,Nt,14,0,"div",1),e.\u0275\u0275template(2,Gt,10,3,"div",2),e.\u0275\u0275template(3,Yt,9,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("ngIf","surveySSID"==n.surveyMsgType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","farmerRegistration"==n.surveyMsgType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","workerRequestSID"==n.surveyMsgType))},directives:[h.O5,c._Y,c.JL,c.F],styles:['.pma[_ngcontent-%COMP%]{background-color:#f3f3f3!important}.pma[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;color:#545454;font-size:24px}.pma[_ngcontent-%COMP%]   .pma-heading[_ngcontent-%COMP%]{font-size:24px}.pma[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#545454}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]{background-color:#0a4797;font-size:12px;cursor:pointer;border-radius:10px;color:#fff}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p[_ngcontent-%COMP%]{background-color:#0a4797;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;padding:13px!important;font-weight:500}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px!important;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:10px 104px!important;width:100%}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]{background-color:#f8f8f8;font-size:16px;cursor:pointer;border-radius:10px;font-weight:500;padding:13px!important;width:100%}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-space[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}.pma[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:60px}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]{background-color:#621c43;padding:20px 30px;border-radius:15px;cursor:pointer;text-align:center}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-bottom:10px}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;color:#fff;margin-bottom:0;padding-bottom:0;font-weight:600}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .mm-card[_ngcontent-%COMP%]:hover, .pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]{background-color:#fff!important}.pma[_ngcontent-%COMP%]   .nav-cards[_ngcontent-%COMP%]   .bn-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#545454!important}.pma[_ngcontent-%COMP%]{background:#fff!important}.big-font[_ngcontent-%COMP%]{font-size:40px!important;font-weight:500;color:#545454!important}.f-20[_ngcontent-%COMP%]{font-size:20px!important}.modal-footer[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-agr[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:12px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;text-align:center;line-height:22px;font-family:"lato" sans-serif;padding:10px 40px!important;border:none;margin-bottom:19px!important}.modal-footer[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:21px}.modal-footer[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l-reje[_ngcontent-%COMP%]{background-color:#f8f8f8;cursor:pointer;font-size:12px;border-radius:10px;font-weight:400;text-align:center;line-height:22px;font-family:"lato" sans-serif;padding:10px 68px!important;border:none}.modal-footer[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l-reje[_ngcontent-%COMP%]:hover{opacity:.9}.modal-body[_ngcontent-%COMP%]   .cont-height[_ngcontent-%COMP%]{height:511px}.modal-body[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{color:#ad0c62!important;font-weight:500}.modal-body[_ngcontent-%COMP%]   .succes-mess[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center;color:#545454}.modal-body[_ngcontent-%COMP%]   .succes-mess[_ngcontent-%COMP%]   .time-counter[_ngcontent-%COMP%]{color:#ad0c62}.popup-succes-req[_ngcontent-%COMP%]{color:#ad0c62;font-weight:500;font-size:19px;line-height:23px;text-align:center}.sms-des[_ngcontent-%COMP%]{color:#545454;font-weight:500;font-size:14px;line-height:17px;text-align:center}.okay-btn-succ[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;margin:0 auto;width:160px!important;padding:15px 10px!important;line-height:19px}.myr-pop[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center}.payme-but-des[_ngcontent-%COMP%]{text-align:center;color:#ad0c62;font-weight:500;font-size:15px;line-height:18px}.btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px!important;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:10px 104px!important;width:100%}.btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pay-screen[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:24px;text-align:center}.bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:21px}.h-100vh[_ngcontent-%COMP%]{height:100vh}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 0 8px #0003;border:none!important;border-radius:20px}']}),i})();var Wt=m(4128);let Zt=(()=>{class i{transform(t,...n){return t&&t.substring(0,5)+"-"+t.substring(5,10)+"-"+t.substring(10,15)+"-"+t.substring(15,20)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"blueNoFormat",type:i,pure:!0}),i})(),Xt=(()=>{class i{transform(t,n=2){return t&&t.toFixed(n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"numberFixed",type:i,pure:!0}),i})();function Jt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275element(1,"img",24),e.\u0275\u0275elementEnd())}function en(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"h3",26),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",27),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closePopup()}),e.\u0275\u0275element(4,"button",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",29)(6,"section",30)(7,"div",31)(8,"div",20)(9,"h2",32),e.\u0275\u0275text(10,"Are you sure "),e.\u0275\u0275element(11,"br"),e.\u0275\u0275text(12," you want to logout?"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",33)(14,"button",34),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onUserConfirm("no")}),e.\u0275\u0275text(15,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",35),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onUserConfirm("yes")}),e.\u0275\u0275text(17,"Logout"),e.\u0275\u0275elementEnd()()()}}let tn=(()=>{class i{constructor(t,n,o,s,a){this.dashboardService=t,this.sharedService=n,this.router=o,this.modalService=s,this.blueNumber="",this.isTruncated=!0,this.isSSIEnabled=!1,a.backdrop="static",a.keyboard=!1}ngOnInit(){this.blueNumber=localStorage.getItem("personBluenumber"),this.sharedService.startLoader(),(0,Wt.D)([this.dashboardService.getProfileDetails(this.blueNumber),this.dashboardService.checkSSICredentials()]).subscribe(([t,n])=>{this.sharedService.stopLoader(),t.isError||(this.profileInfo=t.result),this.isSSIEnabled=n.result})}onBackClick(){this.router.navigateByUrl("home/info")}onLogoutClick(t){this.modalService.open(t,{size:"sm modal-dialog-centered"})}onUserConfirm(t){"yes"==t&&(localStorage.clear(),w.g.signOut(),this.router.navigateByUrl("auth/home")),this.modalService.dismissAll()}closePopup(){this.modalService.dismissAll()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(T.NM))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-profile"]],decls:57,vars:16,consts:[[1,"pma"],[1,"container"],[1,"pt-2"],[1,"row"],[1,"col-md-12"],[1,"pma-heading","text-gray-1","mb-1"],[1,"fas","fa-chevron-left","mouse-pointer","pe-3",3,"click"],[1,"pt-4"],[1,"b-pro-strip","d-flex","justify-content-between"],[1,"strip-cont","text-truncate"],[1,"b#","text-white"],[1,"text-white"],[1,"text-white","text-wrap","text-truncate","mb-0","pb-0"],["class","pdv-logo-icon",4,"ngIf"],[1,"pt-4","mt-0","p-title","mb-5","pb-5"],[2,"width","100%"],["id","left-table-content"],["id","table-center"],["id","table-end"],[1,"text-center","pma-buttons","p-4"],[1,"col-12"],[1,"btn","btn-mm-p-blue","btn-lg","btn-block",3,"click"],["content",""],[1,"pdv-logo-icon"],["src","../../../../../assets/media/Logo-Blue-original.png","alt","","width","20px",1,"img-fluid"],[1,"modal-header","mr-2","mt-0","ml-4","border-bottom-0"],["id","modal-basic-title",1,"modal-title"],["aria-label","Close",3,"click"],["type","button","aria-label","Close",1,"btn-close","shadow-none"],[1,"modal-body","pt-0","mt-0"],[1,"pb-0","pr-4","pl-4","pt-0"],[1,"row","mb-5"],[1,"text-center"],[1,"text-center","pma-buttons","pb-4"],[1,"btn","btn-l-sm","btn-sm","mx-3",3,"click"],[1,"btn","btn-sm-blu","btn-sm",3,"click"]],template:function(t,n){if(1&t){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"h1",5)(6,"i",6),e.\u0275\u0275listener("click",function(){return n.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7," Profile "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",7)(9,"div",8)(10,"div",9)(11,"h2",10),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"blueNoFormat"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"h5",11),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"h5",12),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"numberFixed"),e.\u0275\u0275pipe(19,"numberFixed"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(20,Jt,2,0,"div",13),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(21,"section",14)(22,"table",15)(23,"tr")(24,"td",16),e.\u0275\u0275text(25,"Gender / Identify As"),e.\u0275\u0275elementStart(26,"sup"),e.\u0275\u0275text(27,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"td",17),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"tr")(31,"td",16),e.\u0275\u0275text(32,"Name (optional)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"td",17),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"tr")(36,"td",16),e.\u0275\u0275text(37,"Wallet ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"td",18),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"tr")(41,"td",16),e.\u0275\u0275text(42,"Trinsic Version"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"td",18),e.\u0275\u0275text(44,"V1.11.0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"tr")(46,"td",16),e.\u0275\u0275text(47,"App Version"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"td",18),e.\u0275\u0275text(49,"Denim V1.1.3"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(50,"section",19)(51,"div",3)(52,"div",20)(53,"a",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const a=e.\u0275\u0275reference(56);return n.onLogoutClick(a)}),e.\u0275\u0275text(54," Logout "),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(55,en,18,0,"ng-template",null,22,e.\u0275\u0275templateRefExtractor)}2&t&&(e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,8,null==n.profileInfo?null:n.profileInfo.blueNumber)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==n.profileInfo?null:n.profileInfo.contact),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind2(18,10,null==n.profileInfo?null:n.profileInfo.latitude,4),", ",e.\u0275\u0275pipeBind2(19,13,null==n.profileInfo?null:n.profileInfo.longitude,4)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.isSSIEnabled),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate(null==n.profileInfo?null:n.profileInfo.gender),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==n.profileInfo?null:n.profileInfo.name),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(""===(null==n.profileInfo?null:n.profileInfo.walletId)?"N/A":null==n.profileInfo?null:n.profileInfo.walletId))},directives:[h.O5],pipes:[Zt,Xt],styles:[".pma[_ngcontent-%COMP%]{padding:10px}.pma[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;color:#545454;font-size:24px}.pma[_ngcontent-%COMP%]   .pma-heading[_ngcontent-%COMP%]{font-size:24px}.pma[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#545454}.pma[_ngcontent-%COMP%]   .g-pro-strip[_ngcontent-%COMP%]{border-radius:10px;background-color:#f8f8f8;padding:30px;cursor:pointer}.pma[_ngcontent-%COMP%]   .g-pro-strip[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:19px}.pma[_ngcontent-%COMP%]   .g-pro-strip[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;font-weight:lighter;margin-bottom:0}.pma[_ngcontent-%COMP%]   .g-pro-strip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px}.pma[_ngcontent-%COMP%]   .g-pro-strip[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{position:absolute;top:5px;right:18px;font-size:16px;color:#fff;text-shadow:0px 0px 5px rgba(0,0,0,.3)}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]{background-color:#0a4797;font-size:12px;cursor:pointer;border-radius:10px;color:#fff}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-blue[_ngcontent-%COMP%]{background-color:#0a4797;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:500;padding:10px 104px!important;width:100%}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p-blue[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]{background-color:#f8f8f8;font-size:16px;cursor:pointer;font-weight:500}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-space[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}.pma[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{height:45px}.pma[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{width:110px;word-wrap:break-word}.pma[_ngcontent-%COMP%]   #table-end[_ngcontent-%COMP%]{text-align:end}.pma[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;table-layout:fixed;width:310px}.pma[_ngcontent-%COMP%]   #table-center[_ngcontent-%COMP%]{text-align:end}.pma[_ngcontent-%COMP%]   #left-table-content[_ngcontent-%COMP%]{color:#808080ba}.pma[_ngcontent-%COMP%]   .p-title[_ngcontent-%COMP%]   .list-style-1[_ngcontent-%COMP%]{text-align:left}.pma[_ngcontent-%COMP%]   .p-title[_ngcontent-%COMP%]   .list-style-1[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:300;padding-bottom:15px;color:#545454}.pma[_ngcontent-%COMP%]   .p-title[_ngcontent-%COMP%]   .list-style-1[_ngcontent-%COMP%]   li.fr[_ngcontent-%COMP%]{font-weight:400!important}.pma[_ngcontent-%COMP%]   .p-title[_ngcontent-%COMP%]   .list-style-2[_ngcontent-%COMP%]{text-align:right}.pma[_ngcontent-%COMP%]   .p-title[_ngcontent-%COMP%]   .list-style-2[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400!important;color:#545454}.break-address[_ngcontent-%COMP%]{overflow-wrap:break-word;hyphens:auto;overflow:hidden}.yesbtn[_ngcontent-%COMP%]{background:#1C4DA1;border:none;border-radius:5px;color:#fff!important;padding:6px 32px;margin-top:18px;height:34px;min-width:100px}.nobtn[_ngcontent-%COMP%]{background:#FFFFFF;border:none;border-radius:5px;color:#4472c4!important;padding:6px 32px;margin-top:18px;height:34px;min-width:100px}.btn-r[_ngcontent-%COMP%]{margin-right:10px}.b-pro-strip[_ngcontent-%COMP%]{border-radius:10px;background-color:#0a4797;padding:19px!important;cursor:pointer;position:relative!important;white-space:nowrap}.b-pro-strip[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;padding-bottom:0;font-weight:700}.b-pro-strip[_ngcontent-%COMP%]   .pdv-logo-icon[_ngcontent-%COMP%]{position:absolute;right:19px}.b-pro-strip[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;font-weight:lighter;margin-bottom:0;color:#fff}.b-pro-strip[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:lighter!important;font-size:14px;color:#fff}.prof-name[_ngcontent-%COMP%]{width:45px!important;height:37px!important;overflow:hidden!important;text-overflow:ellipsis!important}.modal-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px!important;font-weight:500;line-height:19px;color:#545454!important}.modal-body[_ngcontent-%COMP%]   .btn-sm-blu[_ngcontent-%COMP%]{background-color:#0a4797;font-size:14px;cursor:pointer;font-weight:300;border-radius:10px;color:#fff;line-height:17px;padding:10px 40px!important}.modal-body[_ngcontent-%COMP%]   .btn-sm-blu[_ngcontent-%COMP%]:hover{opacity:.9}.modal-body[_ngcontent-%COMP%]   .btn-l-sm[_ngcontent-%COMP%]{background-color:#f8f8f8;font-size:14px;cursor:pointer;font-weight:300;border-radius:10px;line-height:17px;padding:10px 40px!important}.modal-body[_ngcontent-%COMP%]   .btn-l-sm[_ngcontent-%COMP%]:hover{opacity:.9}"]}),i})();var ee=m(918);const nn=["content10"],on=["content"],rn=["noAddressPopup"],sn=["locationPopup"];function an(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h4",15),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Question ",t.currentQuestion,"")}}const A=function(){return{standalone:!0}};function ln(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div")(2,"div",23)(3,"input",24,25),e.\u0275\u0275listener("keyup",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onRegionEnter()})("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o})("onAddressChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().handleAddressChange(o,s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"b",26),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",27),e.\u0275\u0275listener("ngInit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext();return s.selectMapQuestion(o),s.initMap()}),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.answerValue)("ngModelOptions",e.\u0275\u0275pureFunction0(3,A)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Location Selected: ",t.answerValue,"")}}function cn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",28),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(2,A))("ngModel",t.answerValue)}}function dn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",29),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(2,A))("ngModel",t.answerValue)}}function un(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",30),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(2,A))("ngModel",t.answerValue)}}function pn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"option",33),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",null==t?null:t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.value," ")}}function mn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"select",31),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o}),e.\u0275\u0275template(2,pn,2,2,"option",32),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.answerValue)("ngModelOptions",e.\u0275\u0275pureFunction0(3,A)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==t?null:t.options)}}const hn=function(i){return{"hp-radio":i}};function gn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",38),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).$implicit.answerValue=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",39),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&i){const t=r.$implicit,n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275classMap("form-check-input mb-3"),e.\u0275\u0275property("id",null==t?null:t.id)("ngModelOptions",e.\u0275\u0275pureFunction0(9,A))("value",null==t?null:t.value)("ngModel",n.answerValue)("ngClass",e.\u0275\u0275pureFunction1(10,hn,"hp_radio"==(null==n?null:n.attributeName))),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",null==t?null:t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.value," ")}}function vn(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",40)(1,"div",4),e.\u0275\u0275element(2,"img",41),e.\u0275\u0275elementEnd()())}function fn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",34)(1,"div",35)(2,"div"),e.\u0275\u0275template(3,gn,4,12,"div",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,vn,3,0,"div",37),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",null==t?null:t.options),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","hp_radio"==(null==t?null:t.attributeName))}}function _n(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",42)(1,"p",43),e.\u0275\u0275text(2," Please register a TNG wallet for this mobile number so you can get paid when you complete the survey. "),e.\u0275\u0275elementEnd()())}function yn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",45),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t).$implicit.isSelected=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",46),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&i){const t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("id",null==t?null:t.id)("ngModelOptions",e.\u0275\u0275pureFunction0(6,A))("value",null==t?null:t.value)("ngModel",t.isSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",null==t?null:t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.value," ")}}function bn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275template(1,yn,4,7,"div",36),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==t?null:t.options)}}function Cn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",47),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275nextContext().onFileUpload(o,s)}),e.\u0275\u0275elementEnd()()}}function Sn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"input",28),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().$implicit.answerValue=o}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(2,A))("ngModel",t.answerValue)}}function xn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.showValidationMsg.message," ")}}function Mn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",8)(1,"div",16)(2,"h5",17),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ln,8,4,"div",18),e.\u0275\u0275template(5,cn,2,3,"div",18),e.\u0275\u0275template(6,dn,2,3,"div",18),e.\u0275\u0275template(7,un,2,3,"div",18),e.\u0275\u0275template(8,mn,3,4,"div",18),e.\u0275\u0275template(9,fn,5,2,"div",19),e.\u0275\u0275template(10,_n,3,0,"div",20),e.\u0275\u0275template(11,bn,2,1,"div",21),e.\u0275\u0275template(12,Cn,2,0,"div",18),e.\u0275\u0275template(13,Sn,2,3,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,xn,2,1,"div",22),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",null==t?null:t.text," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","location_map"==(null==t?null:t.attributeName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Text"==(null==t?null:t.type)&&"location_map"!=(null==t?null:t.attributeName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Number"==(null==t?null:t.type)&&"aadhar_number"==(null==t?null:t.attributeName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Number"==(null==t?null:t.type)&&"aadhar_number"!=(null==t?null:t.attributeName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Dropdown"==(null==t?null:t.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Radio"==(null==t?null:t.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","hp_radio"==(null==t?null:t.attributeName)&&(null==t?null:t.answerValue)&&"no"==(null==t||null==t.answerValue?null:t.answerValue.toLowerCase())),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Checkbox"==(null==t?null:t.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","File"==(null==t?null:t.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Other"==(null==t?null:t.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showValidationMsg.display)}}const On=function(i){return{active:i}};function Pn(i,r){if(1&i&&e.\u0275\u0275element(0,"li",55),2&i){const t=r.index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,On,t<n.currentQuestion))}}function In(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",56)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2("Question ",t.currentQuestion," of ",t.totalQuestions,"")}}const wn=function(){return[]};function kn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",49)(1,"div",17)(2,"ul",50),e.\u0275\u0275template(3,Pn,1,3,"li",51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",52)(5,"a",53),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onContinueClick()}),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,In,3,2,"div",54),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pureFunction0(3,wn).constructor(t.totalQuestions)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.continueButtonText," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","mmind"==t.appId)}}function Dn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",57)(1,"div",58)(2,"span",59),e.\u0275\u0275text(3,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",60)(5,"div",61)(6,"div",62)(7,"div",63)(8,"div",64)(9,"div",64),e.\u0275\u0275element(10,"img",65),e.\u0275\u0275elementStart(11,"h5"),e.\u0275\u0275text(12,"Thanks for Participating"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(13,"div",66)(14,"div",67)(15,"button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onDoneClick()}),e.\u0275\u0275text(16,"Done"),e.\u0275\u0275elementEnd()()()()}}function En(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",57)(1,"div",58)(2,"span",59),e.\u0275\u0275text(3,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",60)(5,"div",61)(6,"div",62)(7,"div",63)(8,"div",64)(9,"div",64),e.\u0275\u0275element(10,"img",65),e.\u0275\u0275elementStart(11,"h5"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(13,"div",66)(14,"div",67)(15,"button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onDoneClick()}),e.\u0275\u0275text(16,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onDoneClick()}),e.\u0275\u0275text(18,"Proceed"),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(t.popupMsg)}}function Tn(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",57)(1,"div",58)(2,"span",59),e.\u0275\u0275text(3,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",60)(5,"div",61)(6,"div",62)(7,"div",63)(8,"div",64)(9,"div",64)(10,"h5"),e.\u0275\u0275text(11,"The selected pointer doesnt have a valid address. Please relocate again to fetch the valid address on the map. "),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(12,"div",66)(13,"div",67)(14,"a",69),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeAddressPopup()}),e.\u0275\u0275text(15," Okay "),e.\u0275\u0275elementEnd()()()()}}function An(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",70)(1,"h3",71),e.\u0275\u0275text(2,"\xa0"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",72)(4,"section",73)(5,"div",74),e.\u0275\u0275text(6," To enable location : "),e.\u0275\u0275element(7,"br"),e.\u0275\u0275text(8," Go to settings > type location > tap the location icon > turn it on "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",75)(10,"div",76)(11,"button",77),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeAddressPopup()}),e.\u0275\u0275text(12," Okay "),e.\u0275\u0275elementEnd()()()()}}let Ln=(()=>{class i{constructor(t,n,o,s,a,l,d,u){this.modalService=t,this.router=o,this.sharedService=s,this.dashboardService=a,this.fb=l,this.cdr=d,this.surveyService=u,this.questionsList=[],this.totalQuestions=0,this.isFirstSurvey=!0,this.currentQuestion=0,this.location="",this.latitude="",this.longitude="",this.questionObjectForMap=null,this.isSurveyLoaded=!1,this.continueButtonText="Continue",this.responseCount=0,this.lat="",this.lng="",this.qrId="SSU5YB",this.surveyQRCode="",this.qrCodeData={},this.popupMsg="",this.intervalId=null,this.googleGlobalInitialized=!1,this.userCurrentMarkerPinImage=null,this.addressSelected="",this.autoComplete=google.maps.places.Autocomplete,this.showValidationMsg={message:"",display:!1},n.backdrop="static",n.keyboard=!1}ngOnInit(){this.appId=localStorage.getItem("app"),this.continueButtonText="verify"!=localStorage.getItem("surveyType")?"mmind"==this.appId?"Continue":"Next":"Submit",this.fetchSurveyIdDetails()}progressValue(){let t=Number((this.currentQuestion/this.totalQuestions*100).toFixed(0));return Number.isNaN(t)?0:t}fetchSurveyIdDetails(){var t;let n=this.router.url.split("/home/survey/");(null===(t=null==n?void 0:n[1])||void 0===t?void 0:t.length)>0&&(this.surveyQRCode=n[1],this.getQRDetails()),this.getLocation()}getDocumentObject(){return document}initMap(t={lat:this.lat,lng:this.lng},n=16){if(this.map=new google.maps.Map(document.getElementById("map"),{zoom:n,center:new google.maps.LatLng(t.lat,t.lng),mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy",streetViewControl:!1}),this.questionObjectForMap&&this.questionObjectForMap.answerValue){let s=this.questionObjectForMap.answerValue.split(" | ");3==s.length&&(this.map.setCenter({lat:parseFloat(s[1]),lng:parseFloat(s[2])}),this.map.setZoom(18)),2==s.length&&(this.map.setCenter({lat:parseFloat(s[0]),lng:parseFloat(s[1])}),this.map.setZoom(18))}this.instantiateGooglePlacesService(),this.initAutocomplete(),this.map.addListener("click",this.mapCLickListenerForPlace.bind(this)),this.userCurrentMarkerPinImage={url:"assets/media/briefcasePartialFill.png",scaledSize:new google.maps.Size(32,32)},this.userLocationMarker=new google.maps.Marker({position:new google.maps.LatLng(t.lat,t.lng),icon:this.userCurrentMarkerPinImage,map:this.map,title:"Current User Location"})}setUserOfficeLocation(t,n){null==this.userLocationMarker||null==this.userLocationMarker?this.userLocationMarker=new google.maps.Marker({position:new google.maps.LatLng(t,n),icon:this.userCurrentMarkerPinImage,map:this.map,title:"Current User Location"}):(this.userLocationMarker.setMap(this.map),this.userLocationMarker.setPosition({lat:t,lng:n}))}mapCLickListenerForPlace(t){if(console.log("You clicked on: "+t.latLng),t.placeId)console.log("You clicked on place:"+t.placeId),t.stop(),this.googlePlacesService.getDetails({placeId:t.placeId},(n,o)=>{if(o==google.maps.places.PlacesServiceStatus.OK){console.log(n);let s={long_name:"",short_name:"",types:[]},a=s;n.address_components&&n.address_components.length>0&&(a=n.address_components.reduce((l,d,u)=>(l.long_name=0==u?d.long_name:l.long_name+";"+d.long_name,l),s)),this.questionObjectForMap.answerValue=n.name+" | "+a.long_name+" | "+n.geometry.location.lat()+" | "+n.geometry.location.lng(),this.profileLat=n.geometry.location.lat(),this.profileLng=n.geometry.location.lng(),this.addressSelected=this.questionObjectForMap.answerValue,n.geometry&&n.geometry.location&&this.setUserOfficeLocation(n.geometry.location.lat(),n.geometry.location.lng()),this.cdr.detectChanges()}});else{let n=localStorage.getItem("app");""==n?(this.addressSelected="",this.questionObjectForMap.answerValue="",this.openPopup(this.noAddressPopup)):"mmind"==n&&this.getReverseGeocodingData(t.latLng.lat(),t.latLng.lng())}}getReverseGeocodingData(t,n){var o=new google.maps.LatLng(t,n);(new google.maps.Geocoder).geocode({latLng:o},(a,l)=>{if(l!==google.maps.GeocoderStatus.OK&&alert(l),l==google.maps.GeocoderStatus.OK){var d=a[0].formatted_address.replaceAll(",",";");this.questionObjectForMap.answerValue=d+" | "+t+" | "+n,this.profileLat=t,this.profileLng=n,this.addressSelected=this.questionObjectForMap.answerValue,this.setUserOfficeLocation(t,n)}this.cdr.detectChanges()})}initAutocomplete(){this.autoComplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{fields:["place_id","geometry","name"]}),this.autoComplete.addListener("place_changed",t=>{var n,o,s;if(this.autoComplete.getPlace().geometry&&(null===(s=null===(o=null===(n=this.autoComplete)||void 0===n?void 0:n.getPlace())||void 0===o?void 0:o.geometry)||void 0===s?void 0:s.location)){let a={long_name:"",short_name:"",types:[]},l=a;this.autoComplete.getPlace().address_components&&this.autoComplete.getPlace().address_components.length>0&&(l=this.autoComplete.getPlace().address_components.reduce((d,u,p)=>(d.long_name=0==p?u.long_name:d.long_name+";"+u.long_name,d),a)),this.questionObjectForMap.answerValue=l.long_name+" | "+this.autoComplete.getPlace().geometry.location.lat()+" | "+this.autoComplete.getPlace().geometry.location.lng(),this.setUserOfficeLocation(this.autoComplete.getPlace().geometry.location.lat(),this.autoComplete.getPlace().geometry.location.lng()),this.map.setCenter(this.autoComplete.getPlace().geometry.location)}})}instantiateGooglePlacesService(){this.googlePlacesService=new google.maps.places.PlacesService(this.map)}selectMapQuestion(t){if(null==this.questionObjectForMap||null==this.questionObjectForMap)this.questionObjectForMap=t;else if(this.questionObjectForMap.answerValue){let n=this.questionObjectForMap.answerValue.split(" | ");3==n.length&&this.setUserOfficeLocation(parseFloat(n[1]),parseFloat(n[2])),2==n.length&&this.setUserOfficeLocation(parseFloat(n[0]),parseFloat(n[1]))}}getQRDetails(){this.sharedService.startLoader(),this.dashboardService.getDataRequesDetailsById(this.surveyQRCode).subscribe(t=>{this.sharedService.stopLoader(),t.isError||(this.qrCodeData=t.result,this.getSurveyRequestDetails(this.qrCodeData))},t=>{this.isSurveyLoaded=!0,this.router.navigateByUrl("home/info")})}getSurveyRequestDetails(t){if(this.isSurveyLoaded=!0,t&&(this.questionObject=t,this.blueNumber=localStorage.getItem("personBluenumber"),this.dashboardService.getProfileDetails(this.blueNumber).subscribe(n=>{n.isError||(this.profileObject=n.result)}),t.sections[0]&&t.sections[0].questions.length>0)){if(t.sections[0].questions.map(n=>{n.answerValue=""}),[t.sections[0].questions[0]].map(n=>{"Checkbox"==n.type&&n.options.forEach(o=>{o.isSelected=!1})}),this.questionsList=[t.sections[0].questions[0]],"location_map"==this.questionsList[0].attributeName){let n=setTimeout(()=>{this.selectMapQuestion(this.questionsList[0]),this.initMap({lat:this.lat,lng:this.lng}),clearInterval(n)},1e3)}this.totalQuestions=t.sections[0].questions.length,this.currentQuestion=1}}onRegionEnter(){this.longitude="",this.longitude=""}handleAddressChange(t,n){this.questionObjectForMap=n,this.latitude=t.geometry.location.lat(),this.longitude=t.geometry.location.lng(),this.profileLat=t.geometry.location.lat(),this.profileLng=t.geometry.location.lng(),t&&t.address_components&&(t.address_components.forEach((o,s)=>{this.questionObjectForMap.answerValue=0==s?o.long_name+" ":this.questionObjectForMap.answerValue+", "+o.long_name+" "}),n.answerValue=this.questionObjectForMap.answerValue+" | "+this.latitude+" | "+this.longitude),this.initMap({lat:this.latitude,lng:this.longitude})}onContinueClick(){if("Checkbox"==this.questionsList[0].type){let t=[];this.questionsList[0].options.forEach(n=>{n.isSelected&&t.push(n.value)}),this.questionsList[0].answerValue=t,this.questionsList[0].answerValue.length>0?(this.showValidationMsg.display=!1,this.showNextQuestion()):(this.showValidationMsg.display=!0,this.showValidationMsg.message="Answer is required")}else if("aadhar_number"==this.questionsList[0].attributeName){let t=/^(0|[1-9]\d*)$/;""==this.questionsList[0].answerValue?(this.showValidationMsg.display=!0,this.showValidationMsg.message="Answer is required"):t.test(this.questionsList[0].answerValue)&&12==this.questionsList[0].answerValue.length?(this.showValidationMsg.display=!1,this.showNextQuestion()):(this.showValidationMsg.display=!0,this.showValidationMsg.message="Enter valid Aadhar card number")}else""!=this.questionsList[0].answerValue?(this.showValidationMsg.display=!1,this.showNextQuestion()):(this.showValidationMsg.display=!0,this.showValidationMsg.message="Answer is required")}showNextQuestion(){if(this.showValidationMsg.display=!1,this.currentQuestion<this.totalQuestions){if(this.questionsList=[this.questionObject.sections[0].questions[this.currentQuestion]],"location_map"==this.questionsList[0].attributeName){let t=setTimeout(()=>{this.selectMapQuestion(this.questionsList[0]),this.initMap({lat:this.lat,lng:this.lng}),clearInterval(t)},1e3)}this.currentQuestion==this.totalQuestions-1&&(this.continueButtonText="Submit"),this.currentQuestion++}else this.currentQuestion==this.totalQuestions&&(0!=this.lat&&0!=this.lng?this.saveSurveyResponse():this.openPopup(this.locationPopup))}saveSurveyResponse(){let t=localStorage.getItem("ssid"),n=localStorage.getItem("surveySetId"),o={dataRequestId:this.questionObject.id,dataRequestName:this.questionObject.name,dataSetId:n,dataSetQR:t,bluenumberName:this.profileObject.name,location:[this.lat,this.lng],responses:[]};if(this.questionObject.sections[0].questions.map(s=>{o.responses.push({questionId:s.id,attributeId:s.attributeId,attributeName:s.attributeName,questionText:s.text,type:s.type,responses:"Checkbox"==s.type?s.answerValue:[s.answerValue],verifications:[]})}),"false"==localStorage.getItem("isProfileCompleted")){let a,l,d,s=!1;for(let u=0;u<o.responses.length;u++)"location_map"==o.responses[u].attributeName&&(s=!0,d=o.responses[u].responses[0]),"name"==o.responses[u].attributeName.toLowerCase()&&(a=o.responses[u].responses[0],o.bluenumberName=a),"gender"==o.responses[u].attributeName.toLowerCase()&&(l=o.responses[u].responses[0]);if(s){let u={address:d,blueNumber:this.blueNumber,gender:l,latitude:this.profileLat,longitude:this.profileLng,name:a,role:"Other"};this.sharedService.startLoader(),this.dashboardService.updateProfileDetails(u).subscribe(p=>{this.dashboardService.updateProfileStatus().subscribe(v=>{this.saveSurveyResponses(o)},v=>{v&&v.error&&v.error.responseException&&this.sharedService.showToastMesaages("error",v.error.responseException.exceptionMessage)})},p=>{p&&p.error&&p.error.responseException&&this.sharedService.showToastMesaages("error",p.error.responseException.exceptionMessage)})}else this.saveSurveyResponses(o)}else this.saveSurveyResponses(o)}saveSurveyResponses(t){this.sharedService.startLoader(),this.surveyService.saveSurveyResponse(t).subscribe(n=>{n.isError||("null"!=localStorage.getItem("ssid")&&""!=localStorage.getItem("ssid")&&this.sharedService.successErrorMsg.firstSurveyId?this.surveyService.getSurveyResponseCount(localStorage.getItem("ssid"),this.sharedService.successErrorMsg.firstSurveyId).subscribe(o=>{o.isError||(this.responseCount=o.result),this.navigateToMessagesScreen()},o=>{o&&o.error&&o.error.responseException&&this.sharedService.showToastMesaages("error",o.error.responseException.exceptionMessage),this.navigateToMessagesScreen()}):this.navigateToMessagesScreen())})}navigateToMessagesScreen(){return"verify"==localStorage.getItem("surveyType")?(this.sharedService.successErrorMsg.message="You have been verified!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages"),void this.sharedService.stopLoader()):"feedback"==localStorage.getItem("surveyType")?(this.sharedService.successErrorMsg.message=`${this.qrCodeData.currency} ${this.qrCodeData.paymentOffered}`,this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages"),void this.sharedService.stopLoader()):(""!=this.sharedService.successErrorMsg.nextSurveyId?this.sharedService.successErrorMsg.nextSurveyId!=this.surveyQRCode?(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode&&(this.sharedService.successErrorMsg.firstSurveyId="",this.sharedService.successErrorMsg.isRequestSurvey=!0),this.sharedService.successErrorMsg.message="AnswerNextSurvey",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")):(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.firstSurveyId==this.sharedService.successErrorMsg.lastSurveyId?this.sharedService.successErrorMsg.messageHeading="Survey Set Completed":this.sharedService.successErrorMsg.isRequestSurvey=!0,this.sharedService.successErrorMsg.firstSurveyId=""):this.sharedService.successErrorMsg.lastSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.messageHeading="Survey Set Completed"):this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")):(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.firstSurveyId="",this.sharedService.successErrorMsg.isRequestSurvey=!0):this.sharedService.successErrorMsg.lastSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.messageHeading="Survey Set Completed"):this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")),void this.sharedService.stopLoader())}numberNotation(){switch(this.responseCount%10){case 0:return"";case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}resetQuestions(){this.questionsList=[],this.totalQuestions=0,this.isFirstSurvey=!0,this.currentQuestion=0;let t=setTimeout(()=>{this.fetchSurveyIdDetails(),clearTimeout(t)},1e3)}openPopup(t){this.modalService.open(t,{size:"md",windowClass:"px-5"})}onDoneClick(){this.modalService.dismissAll(),this.router.navigateByUrl("home")}closeAddressPopup(){this.modalService.dismissAll()}onBackClick(){if(this.currentQuestion<=1)this.router.navigateByUrl("/home");else{this.showValidationMsg.display=!1,this.continueButtonText="mmind"==this.appId?"Submit":"Next",this.currentQuestion--,this.questionsList=[this.questionObject.sections[0].questions[this.currentQuestion-1]];let t=setTimeout(()=>{this.selectMapQuestion(this.questionsList[0]),this.initMap({lat:this.latitude,lng:this.longitude}),clearInterval(t)},1e3)}}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{t&&(console.log("Latitude: "+t.coords.latitude+"Longitude: "+t.coords.longitude),this.lat=t.coords.latitude,this.lng=t.coords.longitude,console.log("User Lat: ",this.lat),console.log("User Lng: ",this.lng))},t=>{console.log(t),this.fetchProfileDetails()}):(alert("Geolocation is not supported by this browser."),(""==this.lat||""==this.lng)&&this.fetchProfileDetails())}fetchProfileDetails(){this.blueNumber=localStorage.getItem("personBluenumber"),this.sharedService.startLoader(),this.dashboardService.getProfileDetails(localStorage.getItem("personBluenumber")).subscribe(t=>{this.sharedService.stopLoader(),!t.isError&&t.result&&(this.lat=t.result.latitude,this.lng=t.result.longitude,this.initMap({lat:this.lat,lng:this.lng}))})}onFileUpload(t,n){let o=new FormData;o.append("file",t.target.files[0]),this.sharedService.startLoader(),this.dashboardService.uploadFileToSurvey(this.questionObject.id,o).subscribe(s=>{this.sharedService.stopLoader(),s.isError||(n.answerValue=s.result)})}openGoWallet(){window.open("https://millionmakers.org/contact-us/#touchngowallet")}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(T.NM),e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(c.qu),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(k.F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-survey-questions"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(nn,5),e.\u0275\u0275viewQuery(on,5),e.\u0275\u0275viewQuery(rn,5),e.\u0275\u0275viewQuery(sn,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.content=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.msgContent=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.noAddressPopup=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.locationPopup=o.first)}},decls:22,vars:3,consts:[[1,"pma"],[1,"container"],[1,"pt-2","surevey-question-font"],[1,"row"],[1,"col-md-12"],[1,"pma-heading","text-gray-1","mb-2","d-flex"],[1,"fas","fa-chevron-left","mouse-pointer","pr-3",3,"click"],["class","q-label mt-1",4,"ngIf"],[1,"mb-3"],["class","mb-3",4,"ngFor","ngForOf"],["class","bottom-position",4,"ngIf"],["content10",""],["content",""],["noAddressPopup",""],["locationPopup",""],[1,"q-label","mt-1"],[1,"p-4","pe-0","me-0"],[1,""],[4,"ngIf"],["class","custom-control custom-radio pos-text",4,"ngIf"],["class","text-center HP-RADIO-bottom-position p-4",4,"ngIf"],["class","custom-control custom-checkbox mb-2",4,"ngIf"],["class","px-4 pb-4","style","color: #ff0000",4,"ngIf"],[1,"mb-2"],["ngx-google-places-autocomplete","","placeholder","Enter factory name or pin on the map below","type","text",1,"form-control","location-bor","mb-2",3,"ngModel","ngModelOptions","keyup","ngModelChange","onAddressChange"],["placesRef","ngx-places"],[1,"my-2"],["id","map","elementAddedToView","",3,"ngInit"],["type","text",1,"form-control","location-bor",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","maxlength","12",1,"form-control","location-bor",3,"ngModelOptions","ngModel","ngModelChange"],["type","number",1,"form-control","location-bor",3,"ngModelOptions","ngModel","ngModelChange"],[1,"form-control","location-bor",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"custom-control","custom-radio","pos-text"],[1,"d-flex","justify-content-between"],[4,"ngFor","ngForOf"],["class","row text-center",4,"ngIf"],["type","radio",3,"id","ngModelOptions","value","ngModel","ngClass","ngModelChange"],[1,"form-check-label","text-capitalize",3,"for"],[1,"row","text-center"],["src","../../../assets/media/touch-n-go-ewallet-logo.svg","alt","",1,"img-fluid"],[1,"text-center","HP-RADIO-bottom-position","p-4"],[1,"tng-text"],[1,"custom-control","custom-checkbox","mb-2"],["type","checkbox",1,"form-check-input","mb-3",3,"id","ngModelOptions","value","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],["type","file",1,"form-control","mb-3","location-bor",3,"change"],[1,"px-4","pb-4",2,"color","#ff0000"],[1,"bottom-position"],[1,"d-flex","justify-content-center","p-0","m-0","mb-3"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text-center","pma-buttons","px-4","d-flex","justify-content-around","mb-2"],[1,"btn","btn-mm-p","btn-block",3,"click"],["class","text-center",4,"ngIf"],[3,"ngClass"],[1,"text-center"],["autocomplete","off",1,"pma-modal","pma"],[1,"modal-header","header-custom","border-bottom-0"],[1,"modal-title-save","pl-3","pl-md-2"],[1,"modal-body","modal-body-space","pb-0"],[1,"form-group","mb-0"],[1,"col-12","mb-4","pl-0","pr-0","text-center"],[1,"row","form-group","pt-3","d-flex","justify-content-center"],[1,"text-center","mb-5"],["src","../../../assets/media/tick.png","alt","",1,"img-fluid","p-success","w-100","mb-3"],[1,"modal-footer","footer-custom","pb-5","pt-0","border-top-0","justify-content-center"],[1,"pma-buttons"],["type","button",1,"btn","btn-p","btn-md","btn-block",3,"click"],[1,"btn","btn-mm-p","btn-lg","btn-block",3,"click"],[1,"modal-header","mr-2","mt-0","ml-4","border-bottom-0"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","pt-0","mt-0"],[1,"pb-0","pr-4","pl-4","pt-0"],[1,"row","mb-5","q-mx-5"],[1,"text-center","pma-buttons","pb-4"],[1,"pma-buttons","bottom-position","text-center"],[1,"btn","btn-lg","btn-block",2,"background","#AD0C62","color","white",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"h1",5)(6,"i",6),e.\u0275\u0275listener("click",function(){return n.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7," \xa0 "),e.\u0275\u0275template(8,an,2,1,"h4",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"form")(10,"div")(11,"div",8),e.\u0275\u0275template(12,Mn,15,12,"div",9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(13,kn,8,4,"div",10),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(14,Dn,17,0,"ng-template",null,11,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(16,En,19,1,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(18,Tn,16,0,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(20,An,13,0,"ng-template",null,14,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf","mmind"==n.appId),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",n.questionsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSurveyLoaded))},directives:[h.O5,c._Y,c.JL,c.F,h.sg,c.Fj,ee.GooglePlaceDirective,c.JJ,c.On,c.nD,c.wV,c.EJ,c.YN,c.Kr,c._,h.mk,c.Wl],styles:[".toggle-sidemenu#map[_ngcontent-%COMP%]{margin-left:0}.toggle-sidemenu.logo[_ngcontent-%COMP%]{display:none}#map[_ngcontent-%COMP%]{height:400px;width:100%}.pma[_ngcontent-%COMP%]{padding:10px}.pma[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;color:#545454;font-size:25px}.pma[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#273b4a;font-weight:500;font-size:16px!important;line-height:19px}.pma[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#273b4a;font-size:16px}.pma[_ngcontent-%COMP%]   .pp-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.pma[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.pma[_ngcontent-%COMP%]   .tng-text[_ngcontent-%COMP%]{color:#ad0c62;font-weight:400;font-size:13px;line-height:26px;text-align:center}.pma[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:10px!important}.pma[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#ad0c62!important}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]{background-color:#0a4797;font-size:12px;cursor:pointer;border-radius:10px;color:#fff}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-p-s[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:10px 104px!important;width:100%}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]{background-color:#f8f8f8;font-size:16px;cursor:pointer;padding:13px!important;border-radius:10px;font-weight:500}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-l[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-space[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}.pma[_ngcontent-%COMP%]   .text-high[_ngcontent-%COMP%]{min-height:300px}.pma[_ngcontent-%COMP%]   .text-high[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#273b4a;font-size:14px;font-weight:600}.pma[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.pma[_ngcontent-%COMP%]   .p-success[_ngcontent-%COMP%]{height:auto;width:120px!important;display:inline-block}.pma[_ngcontent-%COMP%]   .surevey-question-font[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:25px!important;padding-bottom:20px;font-weight:500;line-height:30px;color:#000}.pma[_ngcontent-%COMP%]   .surevey-question-font[_ngcontent-%COMP%]   .content-scrl[_ngcontent-%COMP%]{height:384px!important;overflow-y:scroll}.pma[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{min-height:fit-content!important;font-size:16px;line-height:19px;font-weight:300!important;color:#000}.pma[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important}.pma[_ngcontent-%COMP%]   .location-bor[_ngcontent-%COMP%]{border-radius:0!important;border:none!important;border-bottom:1px solid grey!important;padding:0!important;margin-bottom:10px!important;color:#8a8a8a;font-weight:500;font-size:16px;line-height:35px}.pma[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:25px}.pma[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:after, .pma[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:before{width:2.5rem!important;height:1.5rem!important}.pma[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{padding-left:10px!important;font-size:16px!important;font-weight:400}.pma[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none!important}.pma[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked ~ .form-check-label[_ngcontent-%COMP%]:before{background-color:#ea600e!important;border-color:#ea600e!important}.circle[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#c4c4c4;display:inline-block;margin-right:10px}.circle-fill[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#ad0c62;display:inline-block;margin-right:10px}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#ad0c62;border-color:#ad0c62}.HP-RADIO-bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:100px;left:0;right:0}.bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:0;right:0}.bottom-position[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center}.bottom-position[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#ad0c62;box-shadow:0 4px 4px #00000040}.bottom-position[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:14px;height:15px;list-style:none;background-color:#efeeee;border-radius:50%;margin:2px}  .mat-progress-bar-fill:after{background-color:#ad0c62!important}  .mat-progress-bar-buffer{background-color:#cbd0e9!important}  .mat-primary svg{display:none!important}  .mat-progress-bar{height:10px!important;border-radius:5px!important}"]}),i})();var N=m(8675),j=m(4004),B=m(520);let Bn=(()=>{class i{constructor(t){this.http=t}getBankNames(){return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetBankNames`)}getStateNames(t){const n=(new B.LE).set("bank",t);return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetStateNamesByBank`,{params:n})}getCityNames(t,n){const o=(new B.LE).set("bank",t).set("state",n);return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetCityNameByBankAndState`,{params:o})}getBranchNames(t,n,o){const s=(new B.LE).set("bank",t).set("state",n).set("city",o);return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetBranchesByBankStateCity`,{params:s})}getIfscAndAddress(t,n,o,s){const a=(new B.LE).set("bank",t).set("state",n).set("city",o).set("branch",s);return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetIfscAddressByBankStateCityBranch`,{params:a})}getBankDetails(t){const n=(new B.LE).set("ifsc",t);return this.http.get(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/GetBankStateCityBranchByIfsc`,{params:n})}saveUserDetails(t){return this.http.post(`${x.N.BlueNumberGlobalAPI}/api/v1/Banks/SaveUserDetails`,t)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(B.eN))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=m(508),D=m(3191),Rn=m(6360),te=m(5664),Fn=m(449);const Vn=["input"],Nn=function(i){return{enterDuration:i}},jn=["*"],qn=new e.InjectionToken("mat-radio-default-options",{providedIn:"root",factory:function Qn(){return{color:"accent"}}});let ne=0;const Gn={provide:c.JU,useExisting:(0,e.forwardRef)(()=>re),multi:!0};class ie{constructor(r,t){this.source=r,this.value=t}}const oe=new e.InjectionToken("MatRadioGroup");let zn=(()=>{class i{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+ne++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.EventEmitter}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,D.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,D.Ig)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ie(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),i})(),re=(()=>{class i extends zn{}return i.\u0275fac=function(){let r;return function(n){return(r||(r=e.\u0275\u0275getInheritedFactory(i)))(n||i)}}(),i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["mat-radio-group"]],contentQueries:function(t,n,o){if(1&t&&e.\u0275\u0275contentQuery(o,se,5),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e.\u0275\u0275ProvidersFeature([Gn,{provide:oe,useExisting:i}]),e.\u0275\u0275InheritDefinitionFeature]}),i})();class Un{constructor(r){this._elementRef=r}}const Hn=(0,_.Kr)((0,_.sb)(Un));let $n=(()=>{class i extends Hn{constructor(t,n,o,s,a,l,d,u){super(n),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=d,this._uniqueId="mat-radio-"+ ++ne,this.id=this._uniqueId,this.change=new e.EventEmitter,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===l,u&&(this.tabIndex=(0,D.su)(u,0)),this._removeUniqueSelectionListener=a.listen((p,v)=>{p!==this.id&&v===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const n=(0,D.Ig)(t);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,D.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,D.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ie(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){var t;const n=this.radioGroup;let o;if(o=n&&n.selected&&!this.disabled?n.selected===this?this.tabIndex:-1:this.tabIndex,o!==this._previousTabIndex){const s=null===(t=this._inputElement)||void 0===t?void 0:t.nativeElement;s&&(s.setAttribute("tabindex",o+""),this._previousTabIndex=o)}}}return i.\u0275fac=function(t){e.\u0275\u0275invalidFactory()},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Vn,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.\u0275\u0275InheritDefinitionFeature]}),i})(),se=(()=>{class i extends $n{constructor(t,n,o,s,a,l,d,u){super(t,n,o,s,a,l,d,u)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(oe,8),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(te.tE),e.\u0275\u0275directiveInject(Fn.A8),e.\u0275\u0275directiveInject(Rn.Qb,8),e.\u0275\u0275directiveInject(qn,8),e.\u0275\u0275injectAttribute("tabindex"))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,n){1&t&&e.\u0275\u0275listener("focus",function(){return n._inputElement.nativeElement.focus()}),2&t&&(e.\u0275\u0275attribute("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.\u0275\u0275classProp("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:jn,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,n){if(1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"label",0,1)(2,"span",2),e.\u0275\u0275element(3,"span",3)(4,"span",4),e.\u0275\u0275elementStart(5,"input",5,6),e.\u0275\u0275listener("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"span",7),e.\u0275\u0275element(8,"span",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"span",9)(10,"span",10),e.\u0275\u0275text(11,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275projection(12),e.\u0275\u0275elementEnd()()),2&t){const o=e.\u0275\u0275reference(1);e.\u0275\u0275attribute("for",n.inputId),e.\u0275\u0275advance(5),e.\u0275\u0275property("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),e.\u0275\u0275attribute("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.\u0275\u0275advance(2),e.\u0275\u0275property("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.\u0275\u0275pureFunction1(17,Nn,n._noopAnimations?0:150)),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("mat-radio-label-before","before"==n.labelPosition)}},directives:[_.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),i})(),Yn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[_.si,_.BQ],_.BQ]}),i})();var R=m(4106),K=m(7531),Kn=m(7579),Wn=m(9770),U=m(6451),Zn=m(9646),W=m(4968),ae=m(925),H=m(9776),le=m(8962),P=m(1159),Xn=m(7429),Z=m(3900),X=m(5698),J=m(9300),Jn=m(8505),ei=m(4825),ti=m(226);const ni=["panel"];function ii(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275projection(2),e.\u0275\u0275elementEnd()),2&i){const t=r.id,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("id",n.id)("ngClass",n._classList),e.\u0275\u0275attribute("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const oi=["*"];let ri=0;class si{constructor(r,t){this.source=r,this.option=t}}const ai=(0,_.Kr)(class{}),ce=new e.InjectionToken("mat-autocomplete-default-options",{providedIn:"root",factory:function li(){return{autoActiveFirstOption:!1}}});let ci=(()=>{class i extends ai{constructor(t,n,o,s){super(),this._changeDetectorRef=t,this._elementRef=n,this._activeOptionChanges=Y.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.EventEmitter,this.opened=new e.EventEmitter,this.closed=new e.EventEmitter,this.optionActivated=new e.EventEmitter,this._classList={},this.id="mat-autocomplete-"+ri++,this.inertGroups=(null==s?void 0:s.SAFARI)||!1,this._autoActiveFirstOption=!!o.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=(0,D.Ig)(t)}set classList(t){this._classList=t&&t.length?(0,D.du)(t).reduce((n,o)=>(n[o]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new te.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new si(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(ce),e.\u0275\u0275directiveInject(ae.t4))},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(e.TemplateRef,7),e.\u0275\u0275viewQuery(ni,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.template=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.panel=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[e.\u0275\u0275InheritDefinitionFeature]}),i})(),di=(()=>{class i extends ci{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return i.\u0275fac=function(){let r;return function(n){return(r||(r=e.\u0275\u0275getInheritedFactory(i)))(n||i)}}(),i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(t,n,o){if(1&t&&(e.\u0275\u0275contentQuery(o,_.K7,5),e.\u0275\u0275contentQuery(o,_.ey,5)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.optionGroups=s),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.options=s)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[e.\u0275\u0275ProvidersFeature([{provide:_.HF,useExisting:i}]),e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:oi,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,n){1&t&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,ii,3,4,"ng-template"))},directives:[h.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),i})();const de=new e.InjectionToken("mat-autocomplete-scroll-strategy"),pi={provide:de,deps:[H.aV],useFactory:function ui(i){return()=>i.scrollStrategies.reposition()}},mi={provide:c.JU,useExisting:(0,e.forwardRef)(()=>ue),multi:!0};let hi=(()=>{class i{constructor(t,n,o,s,a,l,d,u,p,v,M){this._element=t,this._overlay=n,this._viewContainerRef=o,this._zone=s,this._changeDetectorRef=a,this._dir=d,this._formField=u,this._document=p,this._viewportRuler=v,this._defaults=M,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Y.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Kn.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,Wn.P)(()=>{const S=this.autocomplete?this.autocomplete.options:null;return S?S.changes.pipe((0,N.O)(S),(0,Z.w)(()=>(0,U.T)(...S.map(L=>L.onSelectionChange)))):this._zone.onStable.pipe((0,X.q)(1),(0,Z.w)(()=>this.optionSelections))}),this._scrollStrategy=l}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=(0,D.Ig)(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,U.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,J.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,J.h)(()=>this._overlayAttached)):(0,Zn.of)()).pipe((0,j.U)(t=>t instanceof _.rN?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,U.T)((0,W.R)(this._document,"click"),(0,W.R)(this._document,"auxclick"),(0,W.R)(this._document,"touchend")).pipe((0,J.h)(t=>{const n=(0,ae.sA)(t),o=this._formField?this._formField._elementRef.nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!o||!o.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve().then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,o=(0,P.Vb)(t);if(n===P.hY&&!o&&t.preventDefault(),this.activeOption&&n===P.K5&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,a=n===P.LH||n===P.JH;n===P.Mf||a&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):a&&this._canOpen()&&this.openPanel(),(a||this.autocomplete._keyManager.activeItem!==s)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let n=t.target,o=n.value;"number"===n.type&&(o=""==o?null:parseFloat(o)),this._previousValue!==o&&(this._previousValue=o,this._onChange(o),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe((0,X.q)(1)),n=this.autocomplete.options.changes.pipe((0,Jn.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,ei.g)(0));return(0,U.T)(t,n).pipe((0,Z.w)(()=>(this._zone.run(()=>{const o=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),o!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),(0,X.q)(1)).subscribe(o=>this._setValueAndClose(o))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const n=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,o=null!=n?n:"";this._formField?this._formField._control.value=o:this._element.nativeElement.value=o,this._previousValue=o}_setValueAndClose(t){const n=t&&t.source;n&&(this._clearPreviousSelectedOption(n),this._setTriggerValue(n.value),this._onChange(n.value),this.autocomplete._emitSelectEvent(n),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(n=>{n!==t&&n.selected&&n.deselect()})}_attachOverlay(){var t;let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new Xn.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,n.keydownEvents().subscribe(s=>{(s.keyCode===P.hY&&!(0,P.Vb)(s)||s.keyCode===P.LH&&(0,P.Vb)(s,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),s.stopPropagation(),s.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const o=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&o!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new H.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}];let a;a="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(a)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const n=this.autocomplete,o=(0,_.CB)(t,n.options,n.optionGroups);if(0===t&&1===o)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const a=s._getHostElement(),l=(0,_.jH)(a.offsetTop,a.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(H.aV),e.\u0275\u0275directiveInject(e.ViewContainerRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(de),e.\u0275\u0275directiveInject(ti.Is,8),e.\u0275\u0275directiveInject(R.G_,9),e.\u0275\u0275directiveInject(h.K0,8),e.\u0275\u0275directiveInject(le.rL),e.\u0275\u0275directiveInject(ce,8))},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[e.\u0275\u0275NgOnChangesFeature]}),i})(),ue=(()=>{class i extends hi{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return i.\u0275fac=function(){let r;return function(n){return(r||(r=e.\u0275\u0275getInheritedFactory(i)))(n||i)}}(),i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,n){1&t&&e.\u0275\u0275listener("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),2&t&&e.\u0275\u0275attribute("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-owns",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[e.\u0275\u0275ProvidersFeature([mi]),e.\u0275\u0275InheritDefinitionFeature]}),i})(),gi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[pi],imports:[[H.U8,_.Ng,_.BQ,h.ez],le.ZD,_.Ng,_.BQ]}),i})();function vi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function fi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Bank Name is required "),e.\u0275\u0275elementEnd())}function _i(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function yi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," State Name is required "),e.\u0275\u0275elementEnd())}function bi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function Ci(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," City Name is required "),e.\u0275\u0275elementEnd())}function Si(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function xi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Branch Name is required "),e.\u0275\u0275elementEnd())}function Mi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",44),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function Oi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-optgroup",46),e.\u0275\u0275template(1,Mi,2,2,"mat-option",22),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("label",t.ifsc),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.address)}}function Pi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Address is required "),e.\u0275\u0275elementEnd())}function Ii(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Account Number is required "),e.\u0275\u0275elementEnd())}function wi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Enter valid Account Number "),e.\u0275\u0275elementEnd())}function ki(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Account Number is required "),e.\u0275\u0275elementEnd())}function Di(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h6",16),e.\u0275\u0275text(2,"Fill Bank Details:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"form",17)(4,"div")(5,"mat-label"),e.\u0275\u0275text(6,"Bank Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"mat-form-field",18)(8,"input",19),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return s.onAutoCompleteInputChange(o,"bank",s.banks)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-autocomplete",20,21),e.\u0275\u0275listener("optionSelected",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().getStates()}),e.\u0275\u0275template(11,vi,2,2,"mat-option",22),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,fi,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div")(15,"mat-label"),e.\u0275\u0275text(16,"State Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"mat-form-field",18)(18,"input",24),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return s.onAutoCompleteInputChange(o,"state",s.states)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"mat-autocomplete",20,25),e.\u0275\u0275listener("optionSelected",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().getCities()}),e.\u0275\u0275template(21,_i,2,2,"mat-option",22),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,yi,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div")(25,"mat-label"),e.\u0275\u0275text(26,"City Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"mat-form-field",18)(28,"input",26),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return s.onAutoCompleteInputChange(o,"city",s.cities)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"mat-autocomplete",20,27),e.\u0275\u0275listener("optionSelected",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().getBranches()}),e.\u0275\u0275template(31,bi,2,2,"mat-option",22),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,Ci,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div")(35,"mat-label"),e.\u0275\u0275text(36,"Branch"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"mat-form-field",18)(38,"input",28),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return s.onAutoCompleteInputChange(o,"branch",s.branches)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"mat-autocomplete",20,29),e.\u0275\u0275listener("optionSelected",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().getIFSCAndAddressList()}),e.\u0275\u0275template(41,Si,2,2,"mat-option",22),e.\u0275\u0275pipe(42,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(43,xi,2,0,"mat-error",23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(44,"form",30)(45,"div")(46,"mat-label"),e.\u0275\u0275text(47,"IFSC & Address "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"mat-form-field",18)(49,"input",31),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return s.onAutoCompleteInputChange(o,"ifsc",s.ifscAndAddress)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"mat-autocomplete",32,33),e.\u0275\u0275listener("optionSelected",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().getSelectedIFSCAddress()}),e.\u0275\u0275template(52,Oi,2,2,"mat-optgroup",34),e.\u0275\u0275pipe(53,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,Pi,2,0,"mat-error",23),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(55,"div",35)(56,"h6",36),e.\u0275\u0275text(57,"IFSC "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"p",37),e.\u0275\u0275text(59),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div",38)(61,"h6",36),e.\u0275\u0275text(62,"Branch Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"p",37),e.\u0275\u0275text(64),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(65,"div")(66,"mat-label"),e.\u0275\u0275text(67,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"mat-form-field",18),e.\u0275\u0275element(69,"input",39),e.\u0275\u0275template(70,Ii,2,0,"mat-error",23),e.\u0275\u0275template(71,wi,2,0,"mat-error",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"mat-form-field",40),e.\u0275\u0275element(73,"input",41),e.\u0275\u0275template(74,ki,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(75,"div",42)(76,"button",43),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onBankdetailsSubmit()}),e.\u0275\u0275text(77,"Submit"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275reference(10),n=e.\u0275\u0275reference(20),o=e.\u0275\u0275reference(30),s=e.\u0275\u0275reference(40),a=e.\u0275\u0275reference(51),l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("formControl",l.bankControl)("matAutocomplete",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(12,28,l.filteredBanks)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.bankControl.hasError("required")&&l.bankControl.touched),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",l.stateControl)("matAutocomplete",n),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(22,30,l.filteredStates)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.stateControl.hasError("required")&&l.stateControl.touched),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",l.cityControl)("matAutocomplete",o),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(32,32,l.filteredCities)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.cityControl.hasError("required")&&l.cityControl.touched),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",l.branchControl)("matAutocomplete",s),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(42,34,l.filteredBranches)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.branchControl.hasError("required")&&l.branchControl.touched),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",l.stateForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",l.stateGroup)("matAutocomplete",a),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(53,36,l.ifscAddressGroupOptions)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.stateGroup.hasError("required")&&l.stateGroup.touched),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(l.ifsc),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(l.address),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",l.accountNumberControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.accountNumberControl.hasError("required")&&l.accountNumberControl.touched),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.accountNumberControl.hasError("minlength")&&l.accountNumberControl.touched),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",l.retypeAccountNumberControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.retypeAccountNumberControl.hasError("required")&&l.retypeAccountNumberControl.touched)}}function Ei(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," IFSC Code is required "),e.\u0275\u0275elementEnd())}function Ti(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Enter valid IFSC Code "),e.\u0275\u0275elementEnd())}function Ai(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Account Number is required "),e.\u0275\u0275elementEnd())}function Li(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Enter valid Account Number "),e.\u0275\u0275elementEnd())}function Bi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",45),e.\u0275\u0275text(1," Account Number is required "),e.\u0275\u0275elementEnd())}function Ri(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h6",48),e.\u0275\u0275text(2,"Your bank is:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ul",49)(4,"li",36),e.\u0275\u0275text(5,"Bank Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"li",37),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"li",36),e.\u0275\u0275text(9,"State Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",37),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"li",36),e.\u0275\u0275text(13,"City Name1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"li",37),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"li",36),e.\u0275\u0275text(17,"City Name2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"li",37),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"li",36),e.\u0275\u0275text(21,"Branch"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"li",37),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"li",36),e.\u0275\u0275text(25,"IFSC"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"li",37),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"li",36),e.\u0275\u0275text(29,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"li",37),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div")(33,"mat-label"),e.\u0275\u0275text(34,"Account Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"mat-form-field",18),e.\u0275\u0275element(36,"input",39),e.\u0275\u0275template(37,Ai,2,0,"mat-error",23),e.\u0275\u0275template(38,Li,2,0,"mat-error",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"mat-form-field",40),e.\u0275\u0275element(40,"input",41),e.\u0275\u0275template(41,Bi,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",42)(43,"button",50),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).onBankdetailsSubmit()}),e.\u0275\u0275text(44," Submit "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.bankDetails.bank),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.state),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.city1),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.city2),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.branch),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.ifsc),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.bankDetails.address),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",t.accountNumberControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountNumberControl.hasError("required")&&t.accountNumberControl.touched),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.accountNumberControl.hasError("minlength")&&t.accountNumberControl.touched),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.retypeAccountNumberControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.retypeAccountNumberControl.hasError("required")&&t.retypeAccountNumberControl.touched)}}function Fi(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"form",17)(2,"div")(3,"mat-label"),e.\u0275\u0275text(4,"IFSC Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-form-field",18),e.\u0275\u0275element(6,"input",47),e.\u0275\u0275template(7,Ei,2,0,"mat-error",23),e.\u0275\u0275template(8,Ti,2,0,"mat-error",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",11)(10,"button",12),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onVerify()}),e.\u0275\u0275text(11,"Verify"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,Ri,45,12,"ng-container",14),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.ifscControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ifscControl.hasError("required")&&t.ifscControl.touched),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ifscControl.hasError("minlength")&&t.ifscControl.touched),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.ifscControl.invalid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.bankDetails?null:t.bankDetails.bank)}}let Vi=(()=>{class i{constructor(t,n,o,s,a,l){this.router=t,this.bankifscService=n,this.renderer=o,this._formBuilder=s,this.sharedService=a,this.surveyService=l,this.ifsc="",this.address="",this.ifscAddressGroup=[],this.selectedOption="",this.bankDetails={bank:"",state:"",city1:"",city2:"",ifsc:"",branch:"",address:""},this.stateForm=this._formBuilder.group({stateGroup:""}),this.title="sample-app",this.floatLabelControl=new c.NI("auto"),this.bankControl=new c.NI("",[c.kI.required]),this.stateControl=new c.NI("",[c.kI.required]),this.cityControl=new c.NI("",[c.kI.required]),this.branchControl=new c.NI("",[c.kI.required]),this.stateGroup=new c.NI("",[c.kI.required]),this.radioButtonValue=0,this.ifscControl=new c.NI("",[c.kI.required,c.kI.minLength(11),c.kI.maxLength(11)]),this.accountNumberControl=new c.NI("",[c.kI.required,c.kI.minLength(8)]),this.retypeAccountNumberControl=new c.NI("",[c.kI.required]),this.banks=[],this.states=[],this.cities=[],this.branches=[],this.ifscAndAddress=[],this._filterAddress=(d,u)=>{const p=null==u?void 0:u.toLowerCase();return d.filter(v=>v.toLowerCase().includes(p))}}_filterBanks(t){const n=null==t?void 0:t.toLowerCase();return this.banks.filter(o=>o.toLowerCase().includes(n))}_filter2(t){const n=null==t?void 0:t.toLowerCase();return this.states.filter(o=>o.toLowerCase().includes(n))}_filterCity(t){const n=null==t?void 0:t.toLowerCase();return this.cities.filter(o=>o.toLowerCase().includes(n))}_filterBranch(t){const n=null==t?void 0:t.toLowerCase();return this.branches.filter(o=>o.toLowerCase().includes(n))}_filterGroup(t){return t?this.ifscAddressGroup.map(n=>({ifsc:n.ifsc,address:this._filterAddress(n.address,t)})).filter(n=>n.address.length>0):this.ifscAddressGroup}onBankdetailsSubmit(){let t="";if(this.accountNumberControl.markAllAsTouched(),this.retypeAccountNumberControl.markAllAsTouched(),"ifsccode"==this.selectedOption?t=this.ifscControl.value:"noifsccode"==this.selectedOption&&(t=this.ifsc,this.bankControl.markAllAsTouched(),this.stateControl.markAllAsTouched(),this.cityControl.markAllAsTouched(),this.branchControl.markAllAsTouched(),this.stateGroup.markAllAsTouched()),!this.accountNumberControl.invalid&&!this.retypeAccountNumberControl.invalid){if(this.accountNumberControl.value!==this.retypeAccountNumberControl.value)return void this.sharedService.showToastMesaages("error","Account number not matched");"ifsccode"==this.selectedOption?this.saveBankDetails(t):"noifsccode"==this.selectedOption&&this.checkBankDetailsValidity()&&(this.sharedService.startLoader(),setTimeout(()=>{this.sharedService.stopLoader(),this.checkBankDetailsValidity()&&this.saveBankDetails(t)},1e3))}}checkBankDetailsValidity(){return this.bankControl.valid&&this.stateControl.valid&&this.cityControl.valid&&this.branchControl.valid&&this.stateGroup.valid}saveBankDetails(t){this.sharedService.startLoader(),this.bankifscService.saveUserDetails({ifscCode:t,surveySetId:localStorage.getItem("surveySetId"),bankAccountNumber:this.accountNumberControl.value}).subscribe(n=>{n.isError||(this.sharedService.showToastMesaages("success","User bank details saved successfully"),this.router.navigateByUrl("home/info")),this.sharedService.stopLoader()})}ngOnInit(){null!=localStorage.getItem("ssid")&&"null"!=localStorage.getItem("ssid")&&""!=localStorage.getItem("ssid")&&this.fetchSurveySetSSIDDetails()}fetchSurveySetSSIDDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).subscribe(t=>{this.sharedService.stopLoader(),t.isError||t.result.isBankDetailsExist&&(this.sharedService.showToastMesaages("info","Bank details already exist"),this.router.navigateByUrl("home/info"))})}onVerify(){this.sharedService.startLoader(),this.bankifscService.getBankDetails(this.ifscControl.value).subscribe(t=>{this.sharedService.stopLoader(),t.isError||(this.bankDetails=t.result)},t=>{this.sharedService.showToastMesaages("error","Enter valid IFSC Code")})}onSubmit(){2==this.radioButtonValue?(this.ifscControl.reset(),this.bankDetails={},this.sharedService.startLoader(),this.selectedOption="noifsccode",this.bankifscService.getBankNames().subscribe(t=>{this.bankControl.setValue(""),this.clearValues("STATE","CITY","BRANCH","IFSC","ACCOUNT_NUMBER"),this.banks=t.result.names,this.sharedService.stopLoader(),this.filteredBanks=this.bankControl.valueChanges.pipe((0,N.O)(""),(0,j.U)(n=>this._filterBanks(n)))})):1==this.radioButtonValue&&(this.selectedOption="ifsccode",this.clearValues("BANK","STATE","CITY","BRANCH","IFSC","ACCOUNT_NUMBER")),this.accountNumberControl.reset(),this.retypeAccountNumberControl.reset()}getStates(){this.sharedService.startLoader(),this.bankifscService.getStateNames(this.bankControl.value).subscribe(t=>{this.stateControl.setValue(""),this.states=t.result.state,this.clearValues("CITY","BRANCH","IFSC","ACCOUNT_NUMBER"),this.sharedService.stopLoader(),this.filteredStates=this.stateControl.valueChanges.pipe((0,N.O)(""),(0,j.U)(n=>this._filter2(n)))})}getCities(){this.sharedService.startLoader(),this.bankifscService.getCityNames(this.bankControl.value,this.stateControl.value).subscribe(t=>{this.cityControl.setValue(""),this.cities=t.result.cities,this.clearValues("BRANCH","IFSC","ACCOUNT_NUMBER"),this.sharedService.stopLoader(),this.filteredCities=this.cityControl.valueChanges.pipe((0,N.O)(""),(0,j.U)(n=>this._filterCity(n)))})}getBranches(){this.sharedService.startLoader(),this.bankifscService.getBranchNames(this.bankControl.value,this.stateControl.value,this.cityControl.value).subscribe(t=>{this.branchControl.setValue(""),this.branches=t.result.branches,this.clearValues("IFSC","ACCOUNT_NUMBER"),this.sharedService.stopLoader(),this.filteredBranches=this.branchControl.valueChanges.pipe((0,N.O)(""),(0,j.U)(n=>this._filterBranch(n)))})}getIFSCAndAddressList(){this.sharedService.startLoader(),this.bankifscService.getIfscAndAddress(this.bankControl.value,this.stateControl.value,this.cityControl.value,this.branchControl.value).subscribe(t=>{this.stateGroup.setValue(""),this.clearValues("IFSC"),this.ifscAddressGroup=t.result,this.sharedService.stopLoader(),this.ifscAddressGroup=t.result.map(n=>({ifsc:n.ifsc,address:[n.address]})),this.ifscAddressGroupOptions=this.stateForm.get("stateGroup").valueChanges.pipe((0,N.O)(""),(0,j.U)(n=>this._filterGroup(n)))})}getSelectedIFSCAddress(){var t;null===(t=this.ifscAddressGroupOptions)||void 0===t||t.subscribe(n=>{let o=n.filter(s=>s.address[0]==this.stateGroup.value);o&&o.length>0&&(this.ifsc=o[0].ifsc,this.address=this.stateGroup.value)})}onBackClick(){this.router.navigateByUrl("/home")}clearValues(...t){t.forEach(n=>{switch(n){case"BANK":this.bankControl.setValue(""),this.banks=[],this.bankControl.reset();break;case"STATE":this.stateControl.setValue(""),this.states=[],this.stateControl.reset();break;case"CITY":this.cityControl.setValue(""),this.cities=[],this.cityControl.reset();break;case"BRANCH":this.branchControl.setValue(""),this.branches=[],this.branchControl.reset();break;case"IFSC":this.stateGroup.setValue(""),this.ifsc="",this.address="",this.stateGroup.reset()}})}onAutoCompleteInputChange(t,n,o){setTimeout(()=>{let a,s=t.target.value;if(""!=s)if(a=o.filter(l=>l.toLowerCase()==s.toLowerCase()),0==a.length)switch(n){case"bank":this.bankControl.reset(),this.clearValues("STATE","CITY","BRANCH","IFSC");break;case"state":this.stateControl.reset(),this.clearValues("CITY","BRANCH","IFSC");break;case"city":this.cityControl.reset(),this.clearValues("BRANCH","IFSC");break;case"branch":this.branchControl.reset(),this.clearValues("IFSC");break;case"ifsc":this.stateGroup.reset(),this.ifsc="",this.address=""}else switch(n){case"bank":this.getStates();break;case"state":this.getCities();break;case"city":this.getBranches();break;case"branch":this.getIFSCAndAddressList();break;case"ifsc":this.getSelectedIFSCAddress()}},1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(Bn),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(c.qu),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(k.F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-bank-ifsc"]],decls:22,vars:4,consts:[[1,"pma","bank-ifsc-details"],[1,"container"],[1,"row"],[1,"col-12"],[1,"pma-heading","text-gray-1","mb-5"],[1,"fas","fa-chevron-left","mouse-pointer","pe-3",3,"click"],[1,"mb-3"],["id","example-radio-group-label",1,"radio-label","mb-5"],["aria-label","Select an option","aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"text-end","pma-buttons"],["mat-raised-button","",1,"btn","btn-mm-p",3,"disabled","click"],[1,"col-12","ifsc-code-details"],[4,"ngIf"],[1,"col-12","have-ifsc-code"],[1,"bankdetilas-label"],[1,"example-form"],["appearance","outline",1,"example-full-width"],["type","text","placeholder","Enter Bank Name","aria-label","Choose Bank Name","matInput","",3,"formControl","matAutocomplete","change"],["autoActiveFirstOption","",3,"optionSelected"],["autoBank","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","m-mt-sm",4,"ngIf"],["type","text","placeholder","Enter State name","aria-label","Choose State name","matInput","",3,"formControl","matAutocomplete","change"],["autoState","matAutocomplete"],["type","text","placeholder","Enter City Name","aria-label","Pick City Name","matInput","",3,"formControl","matAutocomplete","change"],["autoCity","matAutocomplete"],["type","text","placeholder","Enter Branch Name","aria-label","Pick Branch Name","matInput","","required","",3,"formControl","matAutocomplete","change"],["autoBranch","matAutocomplete"],[3,"formGroup"],["type","text","matInput","","placeholder","Enter Address","required","",3,"formControl","matAutocomplete","change"],[3,"optionSelected"],["autoGroup","matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],[1,"example-full-width","mb-2","m-mt-sm"],[1,"review-data"],[1,"branch-details"],[1,"example-full-width"],["type","text","placeholder","Enter Account Number","aria-label","Enter Account Number","matInput","","minlength","8","maxlength","20","autocomplete","off",3,"formControl"],["appearance","outline",1,"example-full-width","m-mt-sm"],["type","password","placeholder","Retype Account Number","aria-label","Retype Account Number","matInput","","autocomplete","off",3,"formControl"],[1,"pma-buttons","mt-3"],["mat-raised-button","",1,"btn","btn-mm-p","w-100",3,"click"],[3,"value"],[1,"m-mt-sm"],[3,"label"],["type","text","placeholder","Enter IFSC Code","aria-label","Enter your IFSC Code","matInput","","minlength","11","maxlength","11",3,"formControl"],[1,"bankdetilas-label","mb-3"],[1,"list-unstyled","p-0"],["mat-raised-button","",1,"btn","btn-mm-p","w-100","padding-y",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"i",5),e.\u0275\u0275listener("click",function(){return n.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(6," Pay to my Bank "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",6)(8,"label",7),e.\u0275\u0275text(9," Do you know your bank's IFSC Code? "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"mat-radio-group",8),e.\u0275\u0275listener("ngModelChange",function(s){return n.radioButtonValue=s}),e.\u0275\u0275elementStart(11,"mat-radio-button",9),e.\u0275\u0275text(12,"I have my IFSC Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"mat-radio-button",10),e.\u0275\u0275text(14,"I don't have my IFSC Code"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",11)(16,"button",12),e.\u0275\u0275listener("click",function(){return n.onSubmit()}),e.\u0275\u0275text(17,"Submit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",13),e.\u0275\u0275template(19,Di,78,38,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",15),e.\u0275\u0275template(21,Fi,13,5,"div",14),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("ngModel",n.radioButtonValue),e.\u0275\u0275advance(6),e.\u0275\u0275property("disabled",0==n.radioButtonValue),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","noifsccode"===n.selectedOption),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ifsccode"===n.selectedOption))},directives:[re,c.JJ,c.On,se,h.O5,c._Y,c.JL,c.F,R.hX,R.KE,K.Nt,c.Fj,ue,c.oH,di,h.sg,_.ey,R.TO,c.Q7,c.sg,_.Nv,c.wO,c.nD],pipes:[h.Ov],styles:[".pma[_ngcontent-%COMP%]{padding:16px 25px}.pma[_ngcontent-%COMP%]   h1.pma-heading[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#000;line-height:30px}.pma[_ngcontent-%COMP%]   h1.pma-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#545454}.pma[_ngcontent-%COMP%]   .example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.pma[_ngcontent-%COMP%]   .example-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:19px;color:#545454}.pma[_ngcontent-%COMP%]   .example-radio-button[_ngcontent-%COMP%]{margin:5px}.pma[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#000;line-height:30px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px!important;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:7px 18px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .bankdetilas-label[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:22px;color:#000}.pma[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.pma[_ngcontent-%COMP%]   .ifsc-code-details[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{padding:14px}.pma[_ngcontent-%COMP%]   .padding-y[_ngcontent-%COMP%]{padding:14px!important}.pma[_ngcontent-%COMP%]   .review-data[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#545454;line-height:19px}.pma[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#000;font-weight:500}.pma[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#000;line-height:17px}.pma[_ngcontent-%COMP%]   .branch-details[_ngcontent-%COMP%]{font-size:12px;font-weight:300;color:#545454;line-height:14px}.pma[_ngcontent-%COMP%]   .have-ifsc-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.branch-details[_ngcontent-%COMP%]{margin-bottom:20px}.pma[_ngcontent-%COMP%]   .have-ifsc-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.review-data[_ngcontent-%COMP%]{margin-bottom:.5rem}.m-mt-sm[_ngcontent-%COMP%]{margin-top:8px}"]}),i})();var Ni=m(2313);function ji(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"button",3),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onODKSurveyClose()}),e.\u0275\u0275text(3,"X"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"iframe",4),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.odkURL,e.\u0275\u0275sanitizeResourceUrl)}}let qi=(()=>{class i{constructor(t,n,o,s,a){this.router=t,this.sharedService=n,this.dashboardService=o,this.sanitizer=s,this.surveyService=a,this.appId="",this.surveyQRCode="",this.qrCodeData={},this.odkURL="",this.isSurveyLoaded=!1,this.latitude="",this.longitude=""}ngOnInit(){this.appId=localStorage.getItem("app");let t=localStorage.getItem("sid"),n=localStorage.getItem("ssid");""!=t&&null!=t&&t&&(this.surveyType="sid"),""!=n&&null!=n&&n&&(this.surveyType="ssid"),this.fetchSurveyIdDetails(),this.getLocation()}fetchSurveyIdDetails(){var t;let n=this.router.url.split("/home/survey/odk/");(null===(t=null==n?void 0:n[1])||void 0===t?void 0:t.length)>0&&(this.surveyQRCode=n[1],this.getQRDetails())}getQRDetails(){this.sharedService.startLoader(),this.dashboardService.getDataRequesDetailsById(this.surveyQRCode).subscribe(t=>{if(this.sharedService.stopLoader(),!t.isError){this.isSurveyLoaded=!0,this.qrCodeData=t.result;let n=this.qrCodeData.odkUrl;"ssid"==this.surveyType&&(n+=`&qrcode=${localStorage.getItem("ssid")}&surveysetid=${localStorage.getItem("surveySetId")}`);const o=localStorage.getItem("idToken");n+=`&surveyname=${this.qrCodeData.name}&surveyid=${this.qrCodeData.id}&latitude=${this.latitude}&longitude=${this.longitude}&idtoken=${o}`,console.log("iframe odk url",n),this.odkURL=this.sanitizer.bypassSecurityTrustResourceUrl(n),console.log("iframe odk url after sanitizer",this.odkURL)}},t=>{this.isSurveyLoaded=!1,this.router.navigateByUrl("home/info")})}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{t&&(console.log("Latitude: "+t.coords.latitude+"Longitude: "+t.coords.longitude),this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,(""==this.latitude||""==this.longitude)&&this.fetchProfileDetails())},t=>{console.log(t),this.fetchProfileDetails()}):(alert("Geolocation is not supported by this browser."),(""==this.latitude||""==this.longitude)&&this.fetchProfileDetails())}fetchProfileDetails(){this.sharedService.startLoader(),this.dashboardService.getProfileDetails(localStorage.getItem("personBluenumber")).subscribe(t=>{this.sharedService.stopLoader(),!t.isError&&t.result&&(this.latitude=t.result.latitude,this.longitude=t.result.longitude)})}onODKSurveyClose(){""!=localStorage.getItem("sid")&&null!=localStorage.getItem("sid")&&"null"!=localStorage.getItem("sid")?this.fetchSurveySIDDetails():""!=localStorage.getItem("ssid")&&null!=localStorage.getItem("ssid")&&"null"!=localStorage.getItem("ssid")&&this.fetchSurveySetSSIDDetails()}fetchSurveySIDDetails(){this.router.navigateByUrl("home/info")}fetchSurveySetSSIDDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).pipe((0,b.x)(()=>this.sharedService.stopLoader())).subscribe(t=>{this.sharedService.stopLoader(),this.surveyDetails=t.result;let n=this.surveyDetails.surveyGroupItems.filter(o=>this.surveyQRCode==o.surveyId);n&&n.length>0&&(n[0].isAnswered?this.navigateToMessagesScreen():this.router.navigateByUrl("home/info"))})}navigateToMessagesScreen(){return"verify"==localStorage.getItem("surveyType")?(this.sharedService.successErrorMsg.message="You have been verified!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages"),void this.sharedService.stopLoader()):"feedback"==localStorage.getItem("surveyType")?(this.sharedService.successErrorMsg.message=`${this.qrCodeData.currency} ${this.qrCodeData.paymentOffered}`,this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages"),void this.sharedService.stopLoader()):(""!=this.sharedService.successErrorMsg.nextSurveyId?this.sharedService.successErrorMsg.nextSurveyId!=this.surveyQRCode?(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode&&(this.sharedService.successErrorMsg.firstSurveyId="",this.sharedService.successErrorMsg.isRequestSurvey=!0),this.sharedService.successErrorMsg.message="AnswerNextSurvey",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")):(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.firstSurveyId==this.sharedService.successErrorMsg.lastSurveyId?this.sharedService.successErrorMsg.messageHeading="Survey Set Completed":this.sharedService.successErrorMsg.isRequestSurvey=!0,this.sharedService.successErrorMsg.firstSurveyId=""):this.sharedService.successErrorMsg.lastSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.messageHeading="Survey Set Completed"):this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")):(this.sharedService.successErrorMsg.firstSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.firstSurveyId="",this.sharedService.successErrorMsg.isRequestSurvey=!0):this.sharedService.successErrorMsg.lastSurveyId==this.surveyQRCode?(this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.messageHeading="Survey Set Completed"):this.sharedService.successErrorMsg.message="Today's survey is done!",this.sharedService.successErrorMsg.showAcceptReject=!1,this.sharedService.successErrorMsg.showProceed=!1,this.router.navigateByUrl("/home/messages")),void this.sharedService.stopLoader())}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(E.s),e.\u0275\u0275directiveInject(Ni.H7),e.\u0275\u0275directiveInject(k.F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-survey-odk-questions"]],decls:1,vars:1,consts:[["class","screen-size",4,"ngIf"],[1,"screen-size"],[1,"btn-x"],[3,"click"],["width","100%","height","100%","frameBorder","0","allow","geolocation",3,"src"]],template:function(t,n){1&t&&e.\u0275\u0275template(0,ji,5,1,"div",0),2&t&&e.\u0275\u0275property("ngIf",n.isSurveyLoaded)},directives:[h.O5],styles:[".screen-size[_ngcontent-%COMP%]{height:550px}.btn-x[_ngcontent-%COMP%]{text-align:right}"]}),i})(),Qi=(()=>{class i{constructor(t){this.http=t}saveUserUpiDetails(t){return this.http.post(`${x.N.BlueNumberGlobalAPI}/api/v1/Upi`,t)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(B.eN))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Gi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",13),e.\u0275\u0275text(1," UPI ID is required "),e.\u0275\u0275elementEnd())}function zi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"mat-error",13),e.\u0275\u0275text(1," Enter valid UPI ID "),e.\u0275\u0275elementEnd())}const Ui=[{path:"",component:wt,children:[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:It},{path:"language",component:kt},{path:"accept/:orgName",component:g},{path:"survey/:id",component:Ln},{path:"survey/odk/:id",component:qi},{path:"profile",component:tn},{path:"messages",component:Kt},{path:"bank-details",component:Vi},{path:"upi-details",component:(()=>{class i{constructor(t,n,o,s){this.router=t,this.sharedService=n,this.upiService=o,this.surveyService=s,this.upiControl=new c.NI("",[c.kI.required,c.kI.minLength(5),c.kI.maxLength(25)])}ngOnInit(){null!=localStorage.getItem("ssid")&&"null"!=localStorage.getItem("ssid")&&""!=localStorage.getItem("ssid")&&this.fetchSurveySetSSIDDetails()}fetchSurveySetSSIDDetails(){this.sharedService.startLoader(),this.surveyService.getSurveyGroupByQRCode(localStorage.getItem("ssid")).subscribe(t=>{this.sharedService.stopLoader(),t.isError||t.result.isUpiDetailsExist&&(this.sharedService.showToastMesaages("info","UPI details already exist"),this.router.navigateByUrl("home/info"))})}onBackClick(){this.router.navigateByUrl("/home/info")}onUpiIdSubmit(){let t="";t=this.upiControl.value,this.saveBankDetails(t)}saveBankDetails(t){this.sharedService.startLoader(),this.upiService.saveUserUpiDetails({upiId:t,surveySetId:localStorage.getItem("surveySetId")}).subscribe(n=>{n.isError||(this.sharedService.showToastMesaages("success","User UPI details saved successfully"),this.router.navigateByUrl("home/info")),this.sharedService.stopLoader()})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.F0),e.\u0275\u0275directiveInject(O.F),e.\u0275\u0275directiveInject(Qi),e.\u0275\u0275directiveInject(k.F))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-upi-details"]],decls:18,vars:3,consts:[[1,"pma","bank-ifsc-details"],[1,"container"],[1,"row"],[1,"col-12"],[1,"pma-heading","text-gray-1","mb-5"],[1,"fas","fa-chevron-left","mouse-pointer","pe-3",3,"click"],[1,"upi-detalis-heading","mb-4"],[1,"upi-detalis-description","mb-2"],["appearance","outline",1,"example-full-width"],["type","text","placeholder","Enter your UPI ID","aria-label","Enter your UPI ID","matInput","","minlength","5","maxlength","20",3,"formControl"],["class","m-mt-sm",4,"ngIf"],[1,"pma-buttons","bottom-position","mt-3","text-center","p-4"],["mat-raised-button","",1,"btn","btn-mm-p","w-100","padding-y",3,"click"],[1,"m-mt-sm"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"i",5),e.\u0275\u0275listener("click",function(){return n.onBackClick()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(6," Pay to my UPI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h6",6),e.\u0275\u0275text(8," Fill UPI Details : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"p",7),e.\u0275\u0275text(10,"Please enter your UPI ID which is linked to the mobile number, registered in this application."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-form-field",8),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275template(13,Gi,2,0,"mat-error",10),e.\u0275\u0275template(14,zi,2,0,"mat-error",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11)(16,"button",12),e.\u0275\u0275listener("click",function(){return n.onUpiIdSubmit()}),e.\u0275\u0275text(17," Submit "),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(12),e.\u0275\u0275property("formControl",n.upiControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.upiControl.hasError("required")&&n.upiControl.touched),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.upiControl.hasError("minlength")&&n.upiControl.touched))},directives:[R.KE,K.Nt,c.Fj,c.wO,c.nD,c.JJ,c.oH,h.O5,R.TO],styles:[".pma[_ngcontent-%COMP%]{padding:16px 10px}.pma[_ngcontent-%COMP%]   .upi-detalis-heading[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:22px;color:#000}.pma[_ngcontent-%COMP%]   .upi-detalis-description[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:22px;color:#000}.pma[_ngcontent-%COMP%]   h1.pma-heading[_ngcontent-%COMP%]{font-size:25px;font-weight:500;color:#000;line-height:30px}.pma[_ngcontent-%COMP%]   h1.pma-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   .text-gray[_ngcontent-%COMP%]{color:#545454}.pma[_ngcontent-%COMP%]   .example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.pma[_ngcontent-%COMP%]   .example-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:19px;color:#545454}.pma[_ngcontent-%COMP%]   .example-radio-button[_ngcontent-%COMP%]{margin:5px}.pma[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#000;line-height:30px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{background-color:#ad0c62;font-size:16px!important;cursor:pointer;border-radius:10px;color:#fff;font-weight:400;padding:7px 18px}.pma[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]:hover{opacity:.9}.pma[_ngcontent-%COMP%]   .bankdetilas-label[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:22px;color:#000}.pma[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.pma[_ngcontent-%COMP%]   .ifsc-code-details[_ngcontent-%COMP%]   .pma-buttons[_ngcontent-%COMP%]   .btn-mm-p[_ngcontent-%COMP%]{padding:14px}.pma[_ngcontent-%COMP%]   .padding-y[_ngcontent-%COMP%]{padding:14px!important}.pma[_ngcontent-%COMP%]   .review-data[_ngcontent-%COMP%], .pma[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#545454;line-height:19px}.pma[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#000;font-weight:500}.pma[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#000;line-height:17px}.pma[_ngcontent-%COMP%]   .branch-details[_ngcontent-%COMP%]{font-size:12px;font-weight:300;color:#545454;line-height:14px}.pma[_ngcontent-%COMP%]   .have-ifsc-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.branch-details[_ngcontent-%COMP%]{margin-bottom:20px}.pma[_ngcontent-%COMP%]   .have-ifsc-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.review-data[_ngcontent-%COMP%]{margin-bottom:.5rem}.bottom-position[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0}.m-mt-sm[_ngcontent-%COMP%]{margin-top:8px}"]}),i})()},{path:"**",redirectTo:"list",pathMatch:"full"}]}];let Hi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[f.Bz.forChild(Ui)],f.Bz]}),i})();var $i=m(4466);let Ki=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[h.ez,_.BQ],_.BQ]}),i})(),Wi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[h.ez,Hi,$i.m,ee.GooglePlaceModule,Ki,K.c,R.lN,Yn,gi]]}),i})()},918:function(he,z,m){!function(h,f,w){"use strict";var e=function g(y){!y||Object.assign(this,y)},O=function(){function g(y,b){this.el=y,this.ngZone=b,this.onAddressChange=new w.EventEmitter}return g.prototype.ngAfterViewInit=function(){this.options||(this.options=new e),this.initialize()},g.prototype.isGoogleLibExists=function(){return!(!google||!google.maps||!google.maps.places)},g.prototype.initialize=function(){var y=this;if(!this.isGoogleLibExists())throw new Error("Google maps library can not be found");if(this.autocomplete=new google.maps.places.Autocomplete(this.el.nativeElement,this.options),!this.autocomplete)throw new Error("Autocomplete is not initialized");null!=!this.autocomplete.addListener&&(this.eventListener=this.autocomplete.addListener("place_changed",function(){y.handleChangeEvent()})),this.el.nativeElement.addEventListener("keydown",function(b){b.key&&"enter"==b.key.toLowerCase()&&b.target===y.el.nativeElement&&(b.preventDefault(),b.stopPropagation())}),window&&window.navigator&&window.navigator.userAgent&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&setTimeout(function(){var b=document.getElementsByClassName("pac-container");if(b){var x=Array.from(b);if(x)for(var c=0,C=x;c<C.length;c++){var k=C[c];!k||k.addEventListener("touchend",function($){$.stopImmediatePropagation()})}}},500)},g.prototype.reset=function(){this.autocomplete.setComponentRestrictions(this.options.componentRestrictions),this.autocomplete.setTypes(this.options.types)},g.prototype.handleChangeEvent=function(){var y=this;this.ngZone.run(function(){y.place=y.autocomplete.getPlace(),y.place&&y.onAddressChange.emit(y.place)})},g.ctorParameters=function(){return[{type:w.ElementRef},{type:w.NgZone}]},g.propDecorators={options:[{type:w.Input,args:["options"]}],onAddressChange:[{type:w.Output}]},g.\u0275fac=function(b){return new(b||g)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.NgZone))},g.\u0275dir=h.\u0275\u0275defineDirective({type:g,selectors:[["","ngx-google-places-autocomplete",""]],inputs:{options:"options"},outputs:{onAddressChange:"onAddressChange"},exportAs:["ngx-places"]}),g}(),E=function(){function g(){}return g.ctorParameters=function(){return[]},g.\u0275fac=function(b){return new(b||g)},g.\u0275mod=h.\u0275\u0275defineNgModule({type:g}),g.\u0275inj=h.\u0275\u0275defineInjector({}),g}();f.GooglePlaceModule=E,f.GooglePlaceDirective=O,Object.defineProperty(f,"__esModule",{value:!0})}(m(4893),z,m(4893))}}]);